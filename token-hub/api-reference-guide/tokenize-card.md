# Tokenize Card

Tokenization is the process of converting card number into network token. Token is used for payment authentication and authorization during the purchase transaction.

This request requires an encrypted payload, for which below request needs to encypted using the client key shared with the suggested algorithm

### Encryption

Client Key : Please get in touch with your Wibmo representative to get the client encryption key.

Algorithm: AES 256 Symmetric key based encryption

Auth Token : Auth Token is HMACSHA2 hash created

Object:

{% swagger method="post" path="" baseUrl="/tokenVault/v1/tokenize" summary="" %}
{% swagger-description %}

{% endswagger-description %}

{% swagger-parameter in="header" name="X-Auth-Token" required="true" %}
Auth token required for API authentication.
{% endswagger-parameter %}

{% swagger-parameter in="header" name="clientId" required="true" %}
Client Identifier
{% endswagger-parameter %}

{% swagger-parameter in="header" name="clientApiUser" required="true" %}
Client user identifier
{% endswagger-parameter %}

{% swagger-parameter in="header" name="clientApiKey" required="true" %}
API key for the client to access the API
{% endswagger-parameter %}

{% swagger-parameter in="body" name="encryptedData" required="true" %}
Encrypted json payload generated by the shared token secret key
{% endswagger-parameter %}

{% swagger-parameter in="body" name="tokenRequestorId" required="false" %}
Token Requestor Identifier
{% endswagger-parameter %}

{% swagger-parameter in="body" name="cardType" required="true" %}
Card Type (V-Visa, M-Mastercard, R-Rupay)
{% endswagger-parameter %}

{% swagger-parameter in="body" name="provider" required="true" %}
Token Provider (NETWORK)
{% endswagger-parameter %}

{% swagger-response status="200: OK" description="" %}

{% endswagger-response %}
{% endswagger %}

{% tabs %}
{% tab title="Curl" %}
```
    curl --location --request POST 'https://<sandbox.com>/tokeVault/v1/tokenize' \
    --header 'Content-Type: application/json' \
    --header 'X-Auth-Token: ' \
    --header 'clientId: ' \
    --header 'clientApiUser: ' \
    --header 'clientApiKey: ' \
    --data-raw '{
    	"encryptedData":"xxxxxx",
        "cardType":"V",
        "merchantId":"Z1234567",
        "clientReferenceId":"434454545466",
    }'
```
{% endtab %}

{% tab title="Response" %}
```
{
    "statusCode": "TK0000",
    "errorDesc": null,
    "status": "Success",
    "msg": "Successfully tokenized",
    "transactionId": null,
    "var1": null,
    "var2": null,
    "var3": null,
    "clientReferenceId": "2223334456",
    "tokenReferenceId": "bXXXXXXXXXXXXX1",
    "tokenLast4": XXXX,
    "tokenExpiryDate": "XXXX",
    "panLast4": "XXXX",
    "tokenStatus": "ACTIVE",
    "encTokenInfo": null,
    "paymentAccountReference": "b6462001-9ae5-4317-ad99-c22b982ac347",
    "tokenAssetId": null,
    "panReferenceId": "XXXXXXXXXXXXX",
    "provider": "NETWORK",
    "mappedTokenBin": null,
    "iv": null
}
```
{% endtab %}
{% endtabs %}
