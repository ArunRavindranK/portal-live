---
description: >-
  "This API is used to create an Instant Virtual card or wallet for customer
  basis Customer's Name, Mobile Number, DOB"
---

# Create Card API

The client will also share the KYC status of the customer along with the corresponding document type and number.

Before creating the card/wallet, this API will also check if the client ID and mobile number shared by the client are unique. It will throw an error in case if they already exist.

{% swagger method="post" path="" baseUrl="api/v2/createCard" summary="" %}
{% swagger-description %}
Request body will contain the encrypted token. Encryption will be done by the client using the client key provided by Wibmo Team. Encryption/ Decryption methodology - AES 192 CBC.

Note - Below are the request parameters in clear text that needs to be encrypted by the client. The below parameters should not be shared in clear text.
{% endswagger-description %}

{% swagger-parameter in="body" name="token" type="String" required="true" %}
Request body will contain the encrypted token. Encryption will be done by the client using the client key provided by Wibmo Team. Encryption/ Decryption methodology - AES-192-CBC

Note - Below are the request parameters in clear text that need to be encrypted by the client. The below parameters should not be shared in clear text.
{% endswagger-parameter %}

{% swagger-parameter in="header" name="x-api-key" required="true" type="String" %}
Special token that the client needs to provide when making API calls. Will be shared along with access to Prepaid Platform Sandbox environment | Ex. -ABCDEF12345
{% endswagger-parameter %}

{% swagger-parameter in="body" name="messageCode" type="Numeric(4)" required="true" %}
Code to identity Create Activate Card request API | Ex.

`1010`
{% endswagger-parameter %}

{% swagger-parameter in="header" name="clientId" type="String(15)" required="true" %}
Uniquely identifies the Client. During program enrollment each Client is provided with a unique client id by Prepaid Aero. | Ex.

`FintechA`
{% endswagger-parameter %}

{% swagger-parameter in="header" name="bankId " type="Numeric(4)" required="true" %}
Uniquely identify the card issuer. Bank Id is provided by Prepaid Platform during program enrollment to uniquely identify the card issuer | Ex.

`1234`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="productId " type="Numeric(3)" required="true" %}
Product ID for which the card needs to be created. Product Id will be shared with the client during client onboarding | Ex.

`1`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="clientTxnId" type="String (100)" required="true" %}
Unique Id generated by the client for each API request. | Ex.

`20150701235959xhstiesqfds`
{% endswagger-parameter %}

{% swagger-parameter in="header" name="entityId " type="Numeric(4)" required="false" %}
Defaults to parent branch of the client i.e., 100 if not provided. This option is useful if cards need to be created and activated under a specific entity/outlet |

`100`
{% endswagger-parameter %}

{% swagger-parameter in="header" name="secureCode" type="String(25)" required="true" %}
Unique static parameter to uniquely identifies the client on payload level for performing operations. | Ex.

`ABCD12345`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="firstName" type="string(50)" required="true" %}
First Name of the cardholder | Ex.

`ABC`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="lastName" type="string(50)" required="true" %}
Last Name of the cardholder | Ex.

`XYZ`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="requestDateTime " type="Numeric(14)" required="true" %}
Local Date and time stamp when the transaction originated from the client in YYYYMMDDHHMMSS with time in 24-hour format | Ex:

`20161031000000`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="mobile" type="numeric(20)" required="true" %}
Mobile number of the cardholder | Ex:

`9897123456`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="customerId " type="String(20)" required="true" %}
Customer Id, which uniquely identifies the cardholder in the client system | Ex.

`IN0000000001`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="sorCustomerId" type="string(20)" required="false" %}
Customer Id, which uniquely identifies the cardholder in the Issuing Bank system | Ex.

`7dsfhhabc`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="kitNo" type="string(20)" required="false" %}
Kit Number for pre-created card. If Virtual cards need to be generated basis pre-created card no. | Ex:

`2938648`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="dateOfBirth " type="numeric(8)" required="true" %}
Date of birth of the cardholder in YYYYMMDD | Ex.

`19951201`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="Gender" type="string(20)" required="true" %}
Gender Of the cardholder | Ex:

`Male`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="email" type="String(50)" required="false" %}
Email Address of the cardholder | Ex.

`aayush.goel@abc.com`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="cardProfileId" type="Numeric(3)" required="true" %}
This ID helps identify the nature of KYC performed for the customer |

`200`

\- Low KYC;

`30`

\- Min KYC,

`150`

\- Full KYC,

`300`

\- Shortfall KYC
{% endswagger-parameter %}

{% swagger-parameter in="body" name="doctype" type="String(20)" required="true" %}
Document Type of the Cardholder. One Card Holder can have many Documents | Ex:

`Aadhar, PAN Card`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="docCountry" type="String(20) " required="true" %}
The Country Name On which document is issued | Ex:

`India`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="docExpiry" type="Numeric(8)" required="false" %}
The Expiry Time for Document | Ex:

`20231201`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="docNumber" type="String(200)" required="true" %}
OVD Number need to be passed. like Aadhar Number, Pan card Number etc. | Ex:

`123456789100`

,

`1`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="cKycDocNo" type="Numeric(120)" required="false" %}
<mark style="background-color:purple;">This is a conditional field</mark>

and only mandatory if the KYC is Aadhar based e-KYC where the CKYC no. of the customer will be shared |

`123456`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="docConsent" type="boolean" required="false" %}
<mark style="background-color:purple;">This is a conditional field.</mark>

The consent of the card holder in case of Aadhar validation of Full KYC | Ex:

`True`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="kycDateStamp" type="numeric(14)" required="false" %}
<mark style="background-color:purple;">This is a conditional field.</mark>

Timestamp when KYC is created for customer in YYYYMMDDHHMMSS format (required in case of full KYC) | Ex:

`20161031214559`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="sourceAccountType" type="Numeric(2)" required="false" %}
<mark style="background-color:purple;">This is a conditional field required in case of Full-KYC.</mark>

Source account type is the account type from which funding of prepaid account will happen. | Ex.

`12`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="sourceAccount" type="String(30)" required="false" %}
<mark style="background-color:purple;">This is a conditional field required in case of Full-KYC.</mark>

Source account is the account from which funding is happening | Ex.

`00112233445566`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="addressline1" type="String(500)" required="false" %}
Postal Address of the cardholder | Ex.

`#2, ABC XYZ`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="addressline2" type="String(500)" required="false" %}
Postal Address of the cardholder | Ex.

`ABC XYZ`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="addressline3" type="String(500)" required="false" %}
Postal Address of the cardholder | Ex.

`Near ABC XYZ`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="deliveryAddress" type="String(500)" required="false" %}
Postal Address of the cardholder. It will be referred to in case customer wants physical card shipment| Ex.

`ABC XYZ`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="cardholderCity" type="String(100)" required="false" %}
City of the cardholder | Ex.

`Bangalore`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="cardholderState" type="String(100)" required="false" %}
State of the cardholder | Ex.

`Karnataka`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="cardholderCountry" type="String(50)" required="false" %}
Country of the cardholder | Ex.

`India`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="cardholderZipCode" type="String(6)" required="false" %}
Zip code of the cardholder | Ex.

`500001`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="newCardStatus" type="string(10)" required="true" %}
The status of the newly created wallet. Either it can be activated instantly or can be activated later | Ex:

`Active`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="loadAmount" type="Numeric(12)" required="true" %}
Load amount is the amount for which card needs to be activated, send '0' if card needs to be activated for zero amount. It is in implied decimals | Ex:

`0`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="createQR" type="boolean" required="false" %}
If QR needs to be created or not for the wallet | Ex:

`True`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="eventid" type="numeric(10)" required="false" %}
Client to share this static event ID as the wallet is created and activated | Ex:

`303001`
{% endswagger-parameter %}

{% swagger-response status="200: OK" description="" %}
```javascript
{
    //Response
}
```
{% endswagger-response %}
{% endswagger %}

#### Response Body

| **messageCode**         | numeric (4) | Y | Code to Identity create activate card response type                       | Refer to the message code reference.                                                                                              | 1011                            |
| ----------------------- | ----------- | - | ------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------- | ------------------------------- |
| **clientTxnId**         | string(100) | Y | Unique Id generated by the client for each transaction                    | Value copied from the request                                                                                                     | 20150701235959xhstiesqfds       |
| **responseDateTime**    | numeric(14) | Y | Response date and timestamp                                               | Format is YYYYMMDDHHMMSS with time in 24 hr format                                                                                | 20161031214559                  |
| **customerId**          | string(20)  | Y | Customer Id, which uniquely identifies the wallet holder in client system | Value copied from the request                                                                                                     | 9712938648                      |
| **accosaTransactionId** | numeric(10) | Y | Unique id for a particular transaction generated in Prepaid               |                                                                                                                                   | 3591893                         |
| **responseCode**        | string(4)   | Y | Contains the status of the request.                                       | 00 indicates success. Please refer Appendix for other response codes                                                              | 00                              |
| **responseMessage**     | string(100) | N | Description of the response code.                                         | Response message based on response code will be sent                                                                              | Card/wallet creation successful |
| **description**         | string(100) | N | Description to be sent to client                                          | Reserved field to send information to client                                                                                      | Card Creation response          |
| **urn**                 | numeric(10) | Y | A unique reference number for the generated wallet.                       | Client to store this URN at their end as well to share in subsequent txn related API calls                                        | 1000058915                      |
| **cardNumber**          | string(100) | Y | Card Number for created card                                              | The card no. shared is a dummy number which will not be utilized for the wallet program. Customer will not be shown this card no. | 4799470163267810                |
| **cardExpiry**          | string(100) | Y | Expiry of the wallet                                                      | Format is MMYY                                                                                                                    | 0721                            |
| **cardCVV2**            | string(100) | Y | Card Verification Value of the card                                       | A dummy value will be shared with the Client. This detail will not be utilized elsewhere by the client                            | 447                             |
| **cardProfileId**       | numeric(2)  | Y | KYC type of the Customer. This is not applicable for closed loop wallet   | <p>30-minKyc,150-Full Kyc,200-Low Kyc, 300-Shortfall KYC</p><p>This is not applicable for closed loop wallet Program.</p>         | 1                               |
| **loadAmount**          | numeric(12) | Y | Load amount for which card has been activated                             | It is in implied decimals                                                                                                         | 10000                           |
| **availableBalance**    | numeric(12) | Y | Card available balance                                                    | It is in implied decimals                                                                                                         | 10000                           |
| **availableCashLimit**  | numeric(12) | Y | Available Cash Limit on the card (implied decimals).                      | This is Zero has cash cannot be withdrawn for closed loop wallet                                                                  | 0                               |
| **accosaRefNo**         | numeric(20) | Y | Auto generated sequence number in cms events                              |                                                                                                                                   | 4565166                         |
| **loginProfileId**      | Numeric(10) | N | The ID created for login portal.                                          | <p>It can be used to set password.</p><p>This is not applicable for closed wallet program</p>                                     | 541                             |

{% tabs %}
{% tab title="Curl" %}
```json
Sample Create Card API Request
https://pp-sandbox.wibmo.com/api/v2/createCard
Sample Request
Encrypted req->
{
"token":"Pl8F5kDZcvADIiursiAvvbHNuL9Wv5eaFdorGVFU6FKfIEnV/YskkzJlAov2ZHJWnqGNLOXfBq4SQqw8Ep4sK0gCAAkRXATCb1nSY6s=" 
}
// Sample token. Client will have to generate this token. 
Decrypted req->
{
    "messageCode": "1010",
    "productId": "1",
    "clientTxnId": "Acti_V3_87Rgv3kwYp",
    "requestDateTime": "20221116114207",
    "firstName": "Swathi",
    "lastName": "Rao",
    "email": "abc@xyz.com",
    "mobile": "919897123456",
    "deliveryaddress": "test",
    "addressLine1": "testaddressLine1",
    "addressLine2": "testaddressLine2",
    "addressLine3": "testaddressLine3",
    "cardholderZipCode": "641027",
    "cardholderCountry": "India",
    "cardholderCity": "Bengaluru",
    "cardholderState": "Karnataka",
    "dateOfBirth": "11-07-1993",
    "gender": "Male",
    "kitNo": "2938648",
    "customerId": "custid_v1_juyWqcUQxz",
    "sorCustomerId": "7dsdhhabc",
    "sourceAccountType": "1",
    "sourceAccount": "12345",
    "cardProfileId": "200",
    "kycDateStamp": "20161031214559",
    "docList": [
      {
            "docType": "Pancard",
            "docCountry": "India",
            "docExpiry": "20231201",
            "docNumber": "ABCDE1234A"
        },
        {
            "docType": "VoterId",
            "docCountry": "Argentina",
            "docExpiry": "20231201",
            "docNumber": "YCV0189823"
        },
      {
            "docType": "Aadhar",
            "docCountry": "India",
            "docExpiry": "20231201",
            "docNumber": "3675 9834 6015",
            "cKycDocNo": "123456",
            "docConsent": "true"
        },
        {
            "docType": "Passport",
            "docCountry": "India",
            "docExpiry": "20231201",
            "docNumber": "A1234567"
        },
         {
            "docType": "Driverlicense",
            "docCountry": "U.S",
            "docExpiry": "20231201",
            "docNumber": "DL66 20211234567"
        }
    ],
    "newCardStatus": "Active",
    "loadAmount": "100000",
    "eventid": "303001",
    "createQR": "true"
}
```
{% endtab %}

{% tab title="Response (Success)" %}
<pre class="language-json"><code class="lang-json">Encrypted Response->
<strong>{
</strong>"token":"Pl8F5kDZcvADIiursiAvvbHNuL9Wv5eaFdorGVFU6FKfIEnV/YskkzJlAov2ZHJWnqGNLOXfBq4SQqw8Ep4sK0gCAAkRXATCb1nSY6s=" 
}
//Sample token. Client will have to decrypt the token shared in the response body
Decrypted Response->
{
    "clientId": "WibmoClient",
    "responseDateTime": "20221116114242",
    "cardCVV2": "123",
    "accosaTransactionId": 7437,
    "description": "Card Creation",
    "responseCode": "201",
    "availableBalance": 100000,
    "urn": 389,
    "bankId": 2010,
    "cardProfileId": 200,
    "cardExpiry": "1127",
    "accosaRefNo": "758",
    "clientTxnId": "Acti_V3_87Rgv3kwYp",
    "loadAmount": 100000,
    "customerId": "custid_V3_juyWqcUUxz",
    "messageCode": 1011,
    "responseMessage": "CARD_CREATED_SUCCESSFULLY",
    "availableCashLimit": 0,
    "cardNumber": "1799470009844216",
    "loginProfId": 0
}
</code></pre>
{% endtab %}

{% tab title="Response (Failure)" %}
<pre class="language-json"><code class="lang-json">Encrypted Response->
<strong>{
</strong>"token":"Pl8F5kDZcvADIiursiAvvbHNuL9Wv5eaFdorGVFU6FKfIEnV/YskkzJlAov2ZHJWnqGNLOXfBq4SQqw8Ep4sK0gCAAkRXATCb1nSY6s=" 
}
//Sample token. Client will have to decrypt the token shared in the response body
Decrypted Response->
{
    "clientId": "WibmoClient",
    "responseDateTime": "20221116115208",
    "cardCVV2": "489",
    "accosaTransactionId": 7443,
    "description": "Card Creation",
    "responseCode": "10",
    "availableBalance": 0,
    "urn": 389,
    "bankId": 2010,
    "cardProfileId": 200,
    "cardExpiry": "1127",
    "accosaRefNo": "",
    "clientTxnId": "Acti_V3_iKJQ7D4\/v=",
    "loadAmount": 100000,
    "customerId": "custid_V3_juyWqcUUxz",
    "messageCode": 1011,
    "responseMessage": "CARD ALREADY CREATED",
    "availableCashLimit": 0,
    "cardNumber": "1799470009844216",
    "loginProfId": 0
}
</code></pre>
{% endtab %}
{% endtabs %}

| 1055 | MALFORMED\_REQUEST                                |
| ---- | ------------------------------------------------- |
| 10   | CARD\_ALREADY\_CREATED                            |
| 1033 | ERROR\_CARD\_CREATION                             |
| 1237 | DUPLICATE\_PHONE\_NUMBER\_WITH\_MULTIPLE\_ACCOUNT |
| 1289 | PROGRAM\_NOT\_ALLOWED\_FOR\_PRODUCT               |
| 1290 | FIRSTNAME\_CANNOT\_BE\_BLANK                      |
| 1291 | LASTNAME\_CANNOT\_BE\_BLANK                       |
| 1292 | CARD\_STATUS\_CANNOT\_BE\_BLANK                   |
| 1293 | INVAILD\_CARD\_STATUS                             |
| 1294 | SOURCE\_ACC\_CANNOT\_BE\_BLANK                    |
| 1295 | PRDUCT\_ID\_CANNOT\_BE\_BLANK                     |
| 1296 | CARDPROFILE\_ID\_CANNOT\_BE\_BLANK                |
| 1297 | MOBILE\_NUMBER\_CANNOT\_BE\_BLANK                 |
| 1298 | INVALID\_SRC\_ACCT\_TYPE                          |
| 1299 | DELIVERY\_ADDR\_MANDATE                           |
| 1300 | DOC\_TYPE\_CANNOT\_BE\_BLANK                      |
| 1301 | DUPLICATE\_MOBILE\_NUMBER                         |
| 1305 | AML\_NOT\_CONFIGURED\_FOR\_PRODUCT                |
| 1308 | INVALID\_EVENT\_TYPE\_FOR\_CARD\_CREATION         |
| 1283 | LOGIN\_SERVICE\_INTEGRATION\_CALL\_FAILURE        |
| 1050 | INVALID\_PRODUCT                                  |
| 1058 | INVALID\_WALLETS                                  |
| 1030 | INVALID\_MESSAGE                                  |
| 1091 | INVALID\_CARDPROFILE\_ID                          |
| 1245 | CUSTOMER\_ID\_CAN\_NOT\_BE\_EMPTY                 |
| 1034 | INVALID\_MOBILE\_NUMBER                           |
| 1088 | INVALID\_DATE\_FORMAT                             |
| 1238 | INVALID\_VOTERID\_NUMBER                          |
| 1239 | INVALID\_PASSPORT\_NUMBER                         |
| 1240 | INVALID\_ADHAR\_NUMBER                            |
| 1241 | INVALID\_DRIVING\_LICENCE\_NUMBER                 |
| 1242 | INVALID\_PAN\_NUMBER                              |
