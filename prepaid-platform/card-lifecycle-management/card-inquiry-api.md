---
description: '"This API is used to fetch the card summary/details of a cardholder"'
---

# Card Inquiry API

This API utilizes cardholder's URN, customer ID & last 4 digits to retrieve the summary of the card. e.g., Cardholder information, balance on the card etc. This API will not provide the transaction history of the card.

{% swagger method="post" path="" baseUrl="api/v1/cardInquiry" summary="" %}
{% swagger-description %}
Request body will contain the encrypted token. Encryption will be done by the client using the client key provided by Wibmo Team. Encryption/ Decryption methodology - AES 192 CBC.

Note - Below are the request parameters in clear text that needs to be encrypted by the client. The below parameters should not be shared in clear text.
{% endswagger-description %}

{% swagger-parameter in="body" name="token" type="String" required="true" %}
Request body will contain the encrypted token. Encryption will be done by the client using the client key provided by Wibmo Team. Encryption/ Decryption methodology - AES-192-CBC

Note - Below are the request parameters in clear text that need to be encrypted by the client. The below parameters should not be shared in clear text.
{% endswagger-parameter %}

{% swagger-parameter in="header" name="x-api-key" required="true" type="String" %}
Special token that the client needs to provide when making API calls. Will be shared along with access to Prepaid Platform Sandbox environment | Ex. -ABCDEF12345
{% endswagger-parameter %}

{% swagger-parameter in="body" name="messageCode" type="Numeric(4)" required="true" %}
Code to identity Card Inquiry request API | Ex.

`1090`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="clientId" type="String(15)" required="true" %}
Uniquely identifies the Client. During program enrollment each Client is provided with a unique client id by Prepaid Aero. | Ex.

`FintechA`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="secureCode" type="String(25)" required="true" %}
Unique static parameter to uniquely identifies the client on payload level for performing operations. | Ex.

`ABCD12345`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="clientTxnId" type="String (100)" required="true" %}
Unique Id generated by the client for each API request. | Ex.

`20150701235959xhstiesqfds`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="requestDateTime " type="Numeric(14)" required="true" %}
Local Date and time stamp when the transaction originated from the client in YYYYMMDDHHMMSS with time in 24-hour format | Ex:

`20161031000000`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="bankId " type="Numeric(4)" required="true" %}
Uniquely identify the card issuer. Bank Id is provided by Prepaid Platform during program enrollment to uniquely identify the card issuer | Ex.

`1234`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="customerId " type="String(20)" required="true" %}
Customer Id, which uniquely identifies the cardholder in the client system | Ex.

`IN0000000001`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="last4Digits" type="string(4)" required="true" %}
Last 4 digits of the card number | Ex:

`7810`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="urn" type="numeric(10)	" required="true" %}
A unique reference number for the generated wallet | Ex:

`1000058915`
{% endswagger-parameter %}

{% swagger-response status="200: OK" description="" %}
```javascript
{
    //Response
}
```
{% endswagger-response %}
{% endswagger %}

#### Response Body

| **messageCode**                                  | numeric(4)  | Mandatory | Code to Identify card Inquiry response type.                              | It is 1091. Refer to the message code reference.                                                                          | 1091                        |
| ------------------------------------------------ | ----------- | --------- | ------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------- | --------------------------- |
| **clientId**                                     | string(15)  | Mandatory | Uniquely identifies the client.                                           | Value copied from the request                                                                                             | WIBMOCLIENT                 |
| **clientTxnId**                                  | string(100) | Mandatory | Unique Id generated by the client for each transaction                    | This will be the Gateway Ref ID                                                                                           | 20150701235959xhstiesqfds   |
| **bankId**                                       | numeric(4)  | Mandatory | Uniquely identify the card issuer                                         | Value copied from the request                                                                                             | 1234                        |
| **responseDateTime**                             | numeric(14) | Mandatory | Response date time                                                        | Format is YYYYMMDDHHMMSS with time in 24-hour format                                                                      | 20161031214559              |
| **urn**                                          | Numeric(10) | Mandatory | A unique reference number for the card generated by Prepaid system.       | Unique identifier for the card                                                                                            | 1000058915                  |
| **customerId**                                   | string(20)  | Mandatory | Customer Id, which uniquely identifies the wallet holder in client system | Unique Identifier for a customer                                                                                          | 9as7129dhgaf657             |
| **accosaTransactionId**                          | numeric(10) | Mandatory | Unique id for a particular transaction generated in Prepaid system        | Unique Identifier for a transaction                                                                                       | 3591893                     |
| **responseCode**                                 | string(4)   | Mandatory | Response code of the action executed.                                     | Contains the status of the transaction. 00 indicates success.                                                             | 00                          |
| **responseMessage**                              | string(100) | Optional  | Description of the response code.                                         | Response message based on response code will be sent                                                                      | 'Success'                   |
| **description**                                  | string(100) | Optional  | Description to send to client after response                              | Reserved field to send information to client                                                                              | 'Card Exists'               |
| **availableBalance**                             | numeric(12) | Mandatory | Card available balance                                                    | It is in implied decimals                                                                                                 | 19000                       |
| **availableCashLimit**                           | numeric(12) | Mandatory | Available Cash Limit on the card                                          | It is in implied decimals                                                                                                 | 110000                      |
| **cardNumber**                                   | string(20)  | Mandatory | Full Card number                                                          | Card number of the card                                                                                                   | 4799470181156979            |
| **cardExpiry**                                   | string(100) | Mandatory | Expiry of the card                                                        | Format is MMYY                                                                                                            | 0721                        |
| **cardCVV2**                                     | string(100) | Mandatory | Card Verification Value of the card                                       | CVV for the card                                                                                                          | 447                         |
| **cardStatus**                                   | string(2)   | Mandatory | The status of the card.                                                   | Active or Inactive                                                                                                        | Active                      |
| **cardProfileId**                                | numeric(2)  | Mandatory | Type of KYC                                                               | <p>30-minKyc,150-Full Kyc,200-Low Kyc, 300-Shortfall KYC</p><p>This is not applicable for closed loop wallet Program.</p> | 8                           |
| **activationTimeStamp**                          | string(50)  | Optional  | Activation date time of the card                                          | Format is YYYYMMDDHHMMSS with time in 24-hour format                                                                      | 2016-06-22 21:01:12.0       |
| **lastActivityTimeStamp**                        | string(50)  | Optional  | Last Activity date time of the card                                       | Format is YYYYMMDDHHMMSS with time in 24-hour format                                                                      | 2016-06-28 21:01:12.0       |
| **cardHolderFistName**                           | string(50)  | Mandatory | First Name of the cardholder                                              | Provided by customer                                                                                                      | ABC                         |
| **cardHolderLastName**                           | string(50)  | Mandatory | Last Name of the cardholder                                               | Provided by customer                                                                                                      | XYZ                         |
| **cardholderMobile**                             | numeric(20) | Optional  | Mobile number of the cardholder                                           | Card Holder Mobile number will be provided by customer                                                                    | 9712938648                  |
| **cardholderEmail**                              | string(50)  | Optional  | Email Address of the cardholder                                           | Provided by customer                                                                                                      | xxxx.xxxx@abc.com           |
| **cardholderAddress**                            | string(500) | Optional  | Address of the card holder                                                | Provided by customer                                                                                                      | 212, One way drive, Seattle |
| **cardholderCity**                               | string(100) | Optional  | City of the cardholder                                                    | Provided by customer                                                                                                      | city                        |
| **cardholderState**                              | string(100) | Optional  | State of the cardholder                                                   | Provided by customer                                                                                                      | state                       |
| **cardholderCountry**                            | string(50)  | Optional  | Country of the cardholder                                                 | Provided by customer.                                                                                                     | India                       |
| **cardholderZipCode**                            | string(6)   | Optional  | Zip Code of the cardholder                                                | Provided by customer.                                                                                                     | 560020                      |
| **cardTransactionProfile.transactionProfileId**  | numeric(3)  | Mandatory | Card Transaction Profile Id                                               | Refer Card Transaction Profile Details                                                                                    | 1                           |
| **cardTransactionProfile.transactionType**       | string(20)  | Mandatory | Transaction type in Card Transaction Profile details                      | Type of transaction allowed                                                                                               | e-Com                       |
| **cardTransactionProfile.status**                | boolean     | Mandatory | Status in Card Transaction Profile details                                | Whether the specific Type enabled/disabled                                                                                | true/false                  |
| **cardTransactionProfile.transactionRegionName** | String      | Mandatory | Region of the transaction                                                 | Transaction is domestic or international                                                                                  | DOMESTIC/INTERNATIONAL      |

{% tabs %}
{% tab title="Curl" %}
```json
Sample Card Inquiry API Request
https://pp-sandbox.wibmo.com/api/v1/cardInquiry
Sample Request
Encrypted req->
{
"token":"Pl8F5kDZcvADIiursiAvvbHNuL9Wv5eaFdorGVFU6FKfIEnV/YskkzJlAov2ZHJWnqGNLOXfBq4SQqw8Ep4sK0gCAAkRXATCb1nSY6s=" 
}
// Sample token. Client will have to generate this token. 
Decrypted req->
{
    "messageCode": 1090,
    "clientId": "WibmoClient",
    "secureCode": "AfYtlO5kqdySIjXyNmGg3F",
    "clientTxnId": "2sdcdddfssdfsd",
    "requestDateTime":20161031214559,
    "bankId": 6019,
    "last4Digits": "1661",
    "urn": 1000073718,
    "customerId": "QW125"
}
```
{% endtab %}

{% tab title="Response (Success)" %}
<pre class="language-json"><code class="lang-json">Encrypted Response->
<strong>{
</strong>"token":"Pl8F5kDZcvADIiursiAvvbHNuL9Wv5eaFdorGVFU6FKfIEnV/YskkzJlAov2ZHJWnqGNLOXfBq4SQqw8Ep4sK0gCAAkRXATCb1nSY6s=" 
}
//Sample token. Client will have to decrypt the token shared in the response body
Decrypted Response->
{
   "urn":1000073710,
   "customerId":"QW125",
   "description":"Active",
   "responseCode":"5000",
   "messageCode":1091,
   "clientTxnId":"2sdcdddfssdfsd",
   "clientId":"WIBMO",
   "responseDateTime":"20170112142055",
   "accosaTransactionId":582034,
   "responseMessage":"DUPLICATE REQUEST. SUCCESS",
   "bankId":6019,
   "availableBalance":"1500",
   "availableCashLimit":"0",
   "cardNumber":"4799470172356315",
   "cardExpiry":"0122",
   "cardCVV2":"336",
   "cardStatus":"0",
   "activationTimeStamp":"2017-01-05 19:08:55.423",
   "lastActivityTimeStamp":"2017-01-05 19:09:55.423",
   "cardHolder":{
      "cardProfileId":3,
      "cardholderFirstName":"JSM1",
      "cardholderLastName":"Jathin123456",
      "cardholderMobile":"1234569870",
      "cardholderEmail":"k@wibmo.com",
      "cardholderAddress":"WINGS,Cambridge Road,Domlur1",
      "cardholderCity":"Bangalore",
      "cardholderState":"Karnataka",
      "cardholderCountry":"India",
      "cardholderZipCode":"560020",
      "cardholderDateOfBirth":"25-Dec_1990"
   },
   "cardTransactionProfile":[
      {
         "transactionProfileId": 1,
         "transactionType":"e-Com",
         "transactionRegionName": "DOMESTIC",
         "status":"true"
      }
   ]
}
</code></pre>
{% endtab %}
{% endtabs %}
