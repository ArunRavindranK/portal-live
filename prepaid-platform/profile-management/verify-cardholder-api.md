---
description: >-
  This API can be called to validate Customer Profile details prior to allowing
  the customer to set his/her PIN
---

# Verify Cardholder API

The primary purpose of this API is to validate the cardholder’s details before allowing the cardholder to view or perform any critical/sensitive activities like initiating KYC or setting PIN etc.

The input parameters mentioned in this API (Example: email, mobile, urn/last4Digit etc.) gets verified against the details maintained for this cardholder in Prepaid system. If verified successfully, this API shares useful cardholder information in its response

Note that this API will only verify cardholder details and not perform any other activity.

{% swagger method="post" path="" baseUrl="api/v2/verifyCardholder" summary="" %}
{% swagger-description %}
Request body will contain the encrypted token. Encryption will be done by the client using the client key provided by Wibmo Team. Encryption/ Decryption methodology - AES 192 CBC.

Note - Below are the request parameters in clear text that needs to be encrypted by the client. The below parameters should not be shared in clear text.
{% endswagger-description %}

{% swagger-parameter in="body" name="token" type="String" required="true" %}
Request body will contain the encrypted token. Encryption will be done by the client using the client key provided by Wibmo Team. Encryption/ Decryption methodology - AES-192-CBC

Note - Below are the request parameters in clear text that need to be encrypted by the client. The below parameters should not be shared in clear text.
{% endswagger-parameter %}

{% swagger-parameter in="header" name="x-api-key" required="true" type="String" %}
Special token that the client needs to provide when making API calls. Will be shared along with access to Prepaid Platform Sandbox environment | Ex. -ABCDEF12345
{% endswagger-parameter %}

{% swagger-parameter in="body" name="messageCode" type="Numeric(4)" required="true" %}
API Code to uniquely identity ‘Verify Cardholder’ API | Ex.

`3020`
{% endswagger-parameter %}

{% swagger-parameter in="header" name="clientId" type="String(15)" required="true" %}
Uniquely identifies the Client. During program enrollment each Client is provided with a unique client id by Prepaid Aero. | Ex.

`FintechA`
{% endswagger-parameter %}

{% swagger-parameter in="header" name="bankId " type="Numeric(4)" required="true" %}
Uniquely identify the card issuer. Bank Id is provided by Prepaid Platform during program enrollment to uniquely identify the card issuer | Ex.

`1234`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="clientTxnId" type="String (100)" required="true" %}
Unique Id generated by the client for each API request. | Ex.

`20150701235959xhstiesqfds`
{% endswagger-parameter %}

{% swagger-parameter in="header" name="entityId " type="Numeric(4)" required="false" %}
Defaults to parent branch of the client i.e., 100 if not provided. This option is useful if cards need to be created and activated under a specific entity/outlet |

`100`
{% endswagger-parameter %}

{% swagger-parameter in="header" name="secureCode" type="String(25)" required="true" %}
Unique static parameter to uniquely identifies the client on payload level for performing operations. | Ex.

`ABCD12345`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="requestDateTime " type="Numeric(14)" required="true" %}
Local Date and time stamp in YYYYMMDDHHMMSS with time in 24-hour format | Ex:

`20161031000000`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="urn" type="numeric(10)" required="false" %}
<mark style="background-color:purple;">This is a conditional field which comes under option-1 condition.</mark>

A unique reference number for the generated wallet | Ex: `1000058915`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="customerMobile " type="numeric(X) " required="false" %}
<mark style="background-color:purple;">This is a conditional field which comes under option-1 condition.</mark>

Mobile number of the customer. Client to share the 12-digit mobile number.

2 digits - country code

10 digits – mobile number | Ex: `917259958403`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="emailId " type="string(50) " required="false" %}
<mark style="background-color:purple;">This is a conditional field which comes under option-1 condition.</mark>

Email Address of the cardholder | Ex: `ABC@gmail.com`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="last4digits " type="numeric(4) " required="false" %}
<mark style="background-color:purple;">This is a conditional field which comes under option-2 condition.</mark>

Last 4 digit of the customer card number | Ex: `3781`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="cardExpiry" type="string(100)  " required="false" %}
<mark style="background-color:purple;">This is a conditional field which comes under option-2 condition.</mark>

Expiry of the card in format MMYY | Ex: `0721`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="dob " type="numeric(8) " required="false" %}
<mark style="background-color:purple;">This is a conditional field which comes under option-2 condition.</mark>

Date of Birth of the Customer in YYYYMMDD format | Ex: `19951201`
{% endswagger-parameter %}

{% swagger-response status="200: OK" description="" %}
```javascript
{
    //Response
}
```
{% endswagger-response %}
{% endswagger %}

#### Response Body

| **messageCode**         | numeric(4)  | Y | Code to Identity “Verify Cardholder” API response                                                                                                                                   | 3021                      |
| ----------------------- | ----------- | - | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------- |
| **clientTxnId**         | string(100) | Y | Unique Id generated by the client for each transaction. This value must be unique for every API call                                                                                | 20150701235959xhstiesqfds |
| **responseDateTime**    | numeric(14) | Y | Response date time in the format YYYYMMDDHHMMSS with time in 24 hr format                                                                                                           | 20161031214559            |
| **customerId**          | string(20)  | Y | Value copied from the request                                                                                                                                                       | 9712938648                |
| **accosaTransactionId** | numeric(10) | Y | Unique id for a particular transaction generated in Prepaid system                                                                                                                  | 3591893                   |
| **responseCode**        | string(4)   | Y | Contains the status of the transaction. 00 indicates success. Please refer Appendix for other response codes                                                                        | 00                        |
| **responseMessage**     | string(100) | N | Response message based on response code will be sent                                                                                                                                | “Cardholder verified”     |
| **urn**                 | numeric(10) | Y | A unique reference number for the generated card/wallet by Prepaid system                                                                                                           | 1000058915                |
| **cardType**            | String(50)  | Y | Defines the type of card eith Gift,GPR,Travel etc..                                                                                                                                 | Gift                      |
| **isPanValid**          | String(1)   | Y | Notify whether the pan is validated or not                                                                                                                                          | Y                         |
| **bankId**              | numeric(4)  | Y | Bank Id is provided by Prepaid System. This is a unique identifier of Wibmo’s Partner Bank on whose license, the program cards/wallets are issued                                   | 1234                      |
| **last4digits**         | numeric(4)  | Y | Last 4 digit of the customer card number                                                                                                                                            | 3781                      |
| **kycStatus**           | String(50)  | Y | <p>This profile ID indicates the KYC type of the customer</p><p>Min KYC (Min KYC with cashloading facility)</p><p>Low KYC (Min KYC without cashloading facility)</p><p>Full KYC</p> | FULL\_KYC                 |

{% tabs %}
{% tab title="Curl" %}
```json
Sample Verify Cardholder API Request
https://pp-sandbox.wibmo.com/api/v2/verifyCardholder
Sample Request
Encrypted req->
{
"token":"Pl8F5kDZcvADIiursiAvvbHNuL9Wv5eaFdorGVFU6FKfIEnV/YskkzJlAov2ZHJWnqGNLOXfBq4SQqw8Ep4sK0gCAAkRXATCb1nSY6s=" 
}
// Sample token. Client will have to generate this token. 
Decrypted req->
Request With urn, customerMobile, emailId: 
{ 
    "messageCode": 3020,
    "clientTxnId": "verify_YkDa2g77ylD-k/y",
    "requestDateTime": "20220615123143",
    "urn": "408",
    "customerMobile": "919897123456",
    "emailId": "abc@xyz.com"   
} 
Request With last4Digits, cardExpiry, dob: 
{ 
    "messageCode": 3020, 
    "clientTxnId": "verifyCard000012", 
    "requestDateTime": "20220615123143", 
    "last4Digits":"1036", 
    "cardExpiry":"0420", 
    "dob":"11-07-1993" 
} 
```
{% endtab %}

{% tab title="Response (Success)" %}
<pre class="language-json"><code class="lang-json">Encrypted Response->
<strong>{
</strong>"token":"Pl8F5kDZcvADIiursiAvvbHNuL9Wv5eaFdorGVFU6FKfIEnV/YskkzJlAov2ZHJWnqGNLOXfBq4SQqw8Ep4sK0gCAAkRXATCb1nSY6s=" 
}
//Sample token. Client will have to decrypt the token shared in the response body
Decrypted Response->
{
    "clientId": "WibmoClient",
    "kycStatus": "FULL_KYC",
    "responseDateTime": "20221116123730",
    "accosaTransactionId": 7489,
    "cardType": "TRAVEL CARD",
    "responseCode": "00",
    "urn": 408,
    "bankId": 2010,
    "clientTxnId": "verify_YkDa2g77ylD-k\/y",
    "customerId": "custid_V3_xPL4SdIlUd",
    "messageCode": 3021,
    "responseMessage": "SUCCESS",
    "last4Digits": "6894",
    "isPanValid": "N"
}
</code></pre>
{% endtab %}

{% tab title="Response (Failure)" %}
<pre class="language-json"><code class="lang-json">Encrypted Response->
<strong>{
</strong>"token":"Pl8F5kDZcvADIiursiAvvbHNuL9Wv5eaFdorGVFU6FKfIEnV/YskkzJlAov2ZHJWnqGNLOXfBq4SQqw8Ep4sK0gCAAkRXATCb1nSY6s=" 
}
//Sample token. Client will have to decrypt the token shared in the response body
Decrypted Response->
{
    "urn": 408,
    "bankId": 2010,
    "clientId": "WibmoClient",
    "responseDateTime": "20221116123640",
    "clientTxnId": "verify_xNr2sMWLvT5elAX",
    "accosaTransactionId": 7487,
    "messageCode": 3021,
    "responseMessage": "INVALID MOBILE NUMBER",
    "responseCode": "1034"
}
</code></pre>
{% endtab %}
{% endtabs %}

| 1055 | MALFORMED\_REQUEST                            |
| ---- | --------------------------------------------- |
| 1001 | CARD\_NOT\_FOUND                              |
| 1084 | CARD\_CUSTOMER\_ID\_MISMATCH                  |
| 1085 | PRODUCT NOT ALLOWED                           |
| 1052 | SYSTEM\_ERROR                                 |
| 1032 | INVALID\_CLIENT\_CHANNEL                      |
| 1081 | OPERATION NOT ALLOWED                         |
| 1332 | URN\_MOBILE\_EMAIL\_MISSING                   |
| 1333 | LAST4DIGIT\_EXPIRY\_DOB\_MISSING              |
| 1080 | IP\_NOT\_ALLOWED                              |
| 1049 | INVALID SECURE CODE                           |
| 1051 | CHECKSUM FAILURE                              |
| 1093 | INVALID CLIENT TXN ID                         |
| 1334 | WRONG\_CUSTOMER\_IDENTIFIER\_NOT\_ALLOWED     |
| 1320 | REQUEST\_DATETIME\_IS\_MANDATORY              |
| 1031 | INVALID BANK ID                               |
| 1264 | BANK ID NOT PRESENT                           |
| 1262 | CLIENT ID NOT PRESENT                         |
| 1310 | XCONSUMERKEY NOT PRESENT                      |
| 1058 | INVALID WALLETS                               |
| 1030 | INVALID MESSAGE                               |
| 1311 | SECURE CODE NOT PRESENT                       |
| 1303 | CUSTOMER DETAILS NOT PRESENT                  |
| 1304 | MORE THAN ONE CUSTOMER IDENTIFIER NOT ALLOWED |
| 1088 | INVALID DATE FORMAT                           |
| 1302 | INVALID\_CUSTOMER                             |
| 1335 | INVALID\_LAST\_4\_DIGIT                       |
| 1336 | CUSTOMER\_WITH\_MULTIPLE\_ACCOUNT             |
