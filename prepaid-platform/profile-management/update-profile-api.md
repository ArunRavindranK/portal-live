---
description: >-
  This API will be called to allow customers to update Profile once he/she has
  successfully logged in on the Program Web Portal
---

# Update Profile API

This API will update a cardholder or walletholder’ s profile basis the input details shared. Profile parameters that can be updated are:

1. KYC status (Ex. Min KYC to Full KYC). Note: Although system allows down-grading of KYC Profile, the client must have a clear compliance policy around it
2. Email ID
3. Mobile No. Although system allows upgrading of mobile number, the client must have a clear compliance policy around it.
4. Customer Name & Address

Client can share Customer’s Customer ID or Mobile Number or URN as customer identifier basis which Wallet-holder’s profile will be updated.

{% swagger method="post" path="" baseUrl="api/v2/updateProfileApi" summary="" %}
{% swagger-description %}
Request body will contain the encrypted token. Encryption will be done by the client using the client key provided by Wibmo Team. Encryption/ Decryption methodology - AES 192 CBC.

Note - Below are the request parameters in clear text that needs to be encrypted by the client. The below parameters should not be shared in clear text.
{% endswagger-description %}

{% swagger-parameter in="body" name="token" type="String" required="true" %}
Request body will contain the encrypted token. Encryption will be done by the client using the client key provided by Wibmo Team. Encryption/ Decryption methodology - AES-192-CBC

Note - Below are the request parameters in clear text that need to be encrypted by the client. The below parameters should not be shared in clear text.
{% endswagger-parameter %}

{% swagger-parameter in="header" name="x-api-key" required="true" type="String" %}
Special token that the client needs to provide when making API calls. Will be shared along with access to Prepaid Platform Sandbox environment | Ex. -ABCDEF12345
{% endswagger-parameter %}

{% swagger-parameter in="body" name="messageCode" type="Numeric(4)" required="true" %}
Code to identity Update Profile request API | Ex.

`1190`
{% endswagger-parameter %}

{% swagger-parameter in="header" name="clientId" type="String(15)" required="true" %}
Uniquely identifies the Client. During program enrollment each Client is provided with a unique client id by Prepaid Aero. | Ex.

`FintechA`
{% endswagger-parameter %}

{% swagger-parameter in="header" name="bankId " type="Numeric(4)" required="true" %}
Uniquely identify the card issuer. Bank Id is provided by Prepaid Platform during program enrollment to uniquely identify the card issuer | Ex.

`1234`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="clientTxnId" type="String (100)" required="true" %}
Unique Id generated by the client for each API request. | Ex.

`20150701235959xhstiesqfds`
{% endswagger-parameter %}

{% swagger-parameter in="header" name="entityId " type="Numeric(4)" required="false" %}
Defaults to parent branch of the client i.e., 100 if not provided. This option is useful if cards need to be created and activated under a specific entity/outlet |

`100`
{% endswagger-parameter %}

{% swagger-parameter in="header" name="secureCode" type="String(25)" required="true" %}
Unique static parameter to uniquely identifies the client on payload level for performing operations. | Ex.

`ABCD12345`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="customerId " type="String(20)" required="true" %}
Customer Id, which uniquely identifies the cardholder in the client system | Ex.

`IN0000000001`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="urn" type="numeric(10)" required="false" %}
<mark style="background-color:purple;">This is a conditional field.</mark>

A unique reference number for the generated wallet | Ex: 1000058915
{% endswagger-parameter %}

{% swagger-parameter in="body" name="customerMobile" type="numeric(20)" required="false" %}
<mark style="background-color:purple;">This is a conditional field.</mark>

Mobile number of the cardholder | Ex:

`9897123456`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="sorCustomerId" type="string(20)" required="false" %}
Customer Id, which uniquely identifies the cardholder in the Issuing Bank system | Ex.

`7dsfhhabc`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="newcardprofileId" type="Numeric(3)" required="false" %}
This ID helps identify the new nature of KYC performed for the customer |

`200`

\- Low KYC;

`30`

\- Min KYC,

`150`

\- Full KYC,

`300`

\- Shortfall KYC
{% endswagger-parameter %}

{% swagger-parameter in="body" name="ProfileIdchangedate" type="numeric(14)" required="false" %}
Local Date and time stamp when the profile ID change is done in YYYYMMDDHHMMSS and time in 24-hour format
{% endswagger-parameter %}

{% swagger-parameter in="body" name="cardProfileId" type="numeric(3)" required="false" %}
<mark style="background-color:purple;">This is a conditional field.</mark>

This ID helps identify the nature of KYC performed for the customer |

`200`

\- Low KYC;

`30`

\- Min KYC,

`150`

\- Full KYC,

`300`

\- Shortfall KYC
{% endswagger-parameter %}

{% swagger-parameter in="body" name="doctype" type="String(20)" required="true" %}
Document Type of the Cardholder. One Card Holder can have many Documents | Ex:

`Aadhar, PAN Card`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="docCountry" type="String(20) " required="true" %}
The Country Name On which document is issued | Ex:

`India`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="docExpiry" type="Numeric(8)" required="false" %}
The Expiry Time for Document | Ex:

`20231201`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="docNumber" type="String(200)" required="true" %}
OVD Number need to be passed. like Aadhar Number, Pan card Number etc. | Ex:

`123456789100`

,

`1`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="cKycDocNo" type="Numeric(120)" required="false" %}
<mark style="background-color:purple;">This is a conditional field.</mark>

This is only mandatory if the KYC is Aadhar based e-KYC where the CKYC no. of the customer will be shared |

`123456`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="docConsent" type="boolean" required="false" %}
<mark style="background-color:purple;">This is a conditional field.</mark>

The consent of the card holder in case of Aadhar validation of Full KYC | Ex:

`True`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="kycDateStamp" type="numeric(14)" required="false" %}
<mark style="background-color:purple;">This is a conditional field.</mark>

Timestamp when KYC is created for customer in YYYYMMDDHHMMSS format (required in case of full KYC) | Ex:

`20161031214559`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="updateVectors" type="String(50)" required="false" %}
All the values which need to be updated are contained within this vector | Ex:

`emailId, mobile, address`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="updateDate" type="numeric(14)" required="false" %}
The Date on which parameters are updated | Ex:

`20161031214559`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="addressline1" type="String(500)" required="false" %}
Postal Address of the cardholder | Ex.

`#2, ABC XYZ`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="addressline2" type="String(500)" required="false" %}
Postal Address of the cardholder | Ex.

`ABC XYZ`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="addressline3" type="String(500)" required="false" %}
Postal Address of the cardholder | Ex.

`Near ABC XYZ`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="firstName" type="string(50)" required="true" %}
First Name of the cardholder | Ex.

`ABC`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="lastName" type="string(50)" required="true" %}
Last Name of the cardholder | Ex.

`XYZ`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="dateOfBirth " type="numeric(8)" required="true" %}
Date of birth of the cardholder in YYYYMMDD | Ex.

`19951201`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="gender" type="string(20)" required="true" %}
Gender Of the cardholder | Ex:

`Male`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="emailId" type="String(50)" required="false" %}
Email Address of the cardholder | Ex.

`aayush.goel@abc.com`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="cardholderAddress" type="String(500)" required="false" %}
Postal Address of the cardholder. It will be referred to in case customer wants physical card shipment| Ex.

`ABC XYZ`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="cardholderCity" type="String(100)" required="false" %}
City of the cardholder | Ex.

`Bangalore`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="cardholderState" type="String(100)" required="false" %}
State of the cardholder | Ex.

`Karnataka`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="cardholderCountry" type="String(50)" required="false" %}
Country of the cardholder | Ex.

`India`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="cardholderZipCode" type="String(6)" required="false" %}
Zip code of the cardholder | Ex.

`500001`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="alternateEmailId" type="string(100) " required="false" %}
Alternate email id of the cardholder | Ex: abcefg@wibmo.com
{% endswagger-parameter %}

{% swagger-response status="200: OK" description="" %}
```javascript
{
    //Response
}
```
{% endswagger-response %}
{% endswagger %}

#### Response Body

| **messageCode**         | numeric(4)  | Y         | Code to Identity Card Inquiry API response type                             | Refer to the message code reference.                                                                                         | 1191                      |
| ----------------------- | ----------- | --------- | --------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------- | ------------------------- |
| **clientTxnId**         | string(100) | Y         | Unique Id generated by the client for each transaction.                     | Value copied from the request                                                                                                | 20150701235959xhstiesqfds |
| **responseDateTime**    | numeric(14) | Y         | Response date and timestamp when the transaction originated from the client | Format is YYYYMMDDHHMMSS with time in 24-hour format                                                                         | 20161031214559            |
| **urn**                 | numeric(10) | Mandatory | A unique reference number for the generated card.                           | Unique identifier for card/wallet                                                                                            | 1000058915                |
| **customerId**          | string(20)  | Y         | Unique customer identifier that is generated by the client                  | This is fetched from Wibmo Prepaid basis customer’s mobile. no                                                               | 9712938648                |
| **accosaTransactionId** | numeric(10) | Y         | Unique id for a particular transaction generated in Prepaid system          | Unique Identifier for a transaction                                                                                          | 3591893                   |
| **responseCode**        | string(4)   | Y         | Response code of the action executed.                                       | Contains the status of the transaction. 00 indicates success.                                                                | 00                        |
| **responseMessage**     | string(100) | N         | Description of the response code.                                           | Response message based on response code will be sent                                                                         | load successful           |
| **description**         | string(100) | N         | Description to send to client after response                                | Reserved field to send information to client                                                                                 | Profile Update response   |
| **cardProfileId**       | numeric(3)  | Mandatory | Type of KYC                                                                 | <p>30-min KYC, 150-Full KYC, 200-Low KYC, 300-Shortfall KYC</p><p>This is not applicable for closed loop wallet Program.</p> | 150                       |
| **accosaRefNo**         | numeric(20) | Mandatory | Auto generated sequence number in CMS events                                |                                                                                                                              | 123212                    |

{% tabs %}
{% tab title="Curl" %}
<pre class="language-json"><code class="lang-json">Sample Update Profile API Request
https://pp-sandbox.wibmo.com/api/v2/updateProfileApi
Sample Request
Encrypted req->
<strong>{
</strong>"token":"Pl8F5kDZcvADIiursiAvvbHNuL9Wv5eaFdorGVFU6FKfIEnV/YskkzJlAov2ZHJWnqGNLOXfBq4SQqw8Ep4sK0gCAAkRXATCb1nSY6s=" 
}
// Sample token. Client will have to generate this token. 
Decrypted req->
{
    "messageCode": "1280",
    "productId": "1",
    "clientTxnId": "Acti_V3_ThjKNxTx-h",
    "requestDateTime": "2022061314719",
    "firstName": "ABC",
    "cardProfileId": "200",
    "lastName": "XYZ",
    "email": "abc@xyz.com",
    "address": "test1",
    "addressline1": "testaddressLine11",
    "addressline2": "testaddressLine2",
    "addressline3": "testaddressLine3 ",
    "urn": 389,
    "zipCode": "641021",
    "country": "India1",
    "city": "Bengaluru1",
    "state": "Karnataka1",
    "dateOfBirth": "11-07-1993",
    "gender": "Female",
    "sorCustomerId": "7dsfhhabc1",
        "docList": [
                {
            "docType": "Driverlicense",
            "docCountry": "U.S",
            "docExpiry": "20221203",
            "docNumber": "DL66 20211234567"
        },
             {
            "docType": "Aadhar",
            "docCountry": "India",
            "docExpiry": "20231202",
            "docNumber": "9876 9834 1234",
            "cKycDocNo": "123456",
            "docConsent": "true"
        },       
        {
            "docType": "Passport",
            "docCountry": "India",
            "docExpiry": "20231201",
            "docNumber": "A1234567"
        }
],
    "kycDateStamp": "20161031214559",
    "newcardProfileId": "150",
    "profileIdChangeDate": "20161031214559",
    "updateVectors": "emailId,address,city,state,country,zipcode",
    "updateDate": "20220916214559"
}
</code></pre>
{% endtab %}

{% tab title="Response (Success)" %}
<pre class="language-json"><code class="lang-json">Encrypted Response->
<strong>{
</strong>"token":"Pl8F5kDZcvADIiursiAvvbHNuL9Wv5eaFdorGVFU6FKfIEnV/YskkzJlAov2ZHJWnqGNLOXfBq4SQqw8Ep4sK0gCAAkRXATCb1nSY6s=" 
}
//Sample token. Client will have to decrypt the token shared in the response body
Decrypted Response->
{
    "urn": 389,
    "bankId": 2010,
    "clientId": "WibmoClient",
    "cardProfileId": 150,
    "responseDateTime": "20221116114242",
    "clientTxnId": "Acti_V3_ThjKNxTx-h",
    "accosaTransactionId": 7440,
    "customerId": "custid_V3_juyWqcUUxz",
    "messageCode": 1281,
    "responseMessage": "SUCCESS",
    "responseCode": "00"
}
</code></pre>
{% endtab %}

{% tab title="Response (Failure)" %}
<pre class="language-json"><code class="lang-json">Encrypted Response->
<strong>{
</strong>"token":"Pl8F5kDZcvADIiursiAvvbHNuL9Wv5eaFdorGVFU6FKfIEnV/YskkzJlAov2ZHJWnqGNLOXfBq4SQqw8Ep4sK0gCAAkRXATCb1nSY6s=" 
}
//Sample token. Client will have to decrypt the token shared in the response body
Decrypted Response->
{
    "urn": 389,
    "bankId": 2010,
    "clientId": "WibmoClient",
    "responseDateTime": "20221116120702",
    "clientTxnId": "Acti_V3_xyvty6HlvG",
    "accosaTransactionId": 7446,
    "customerId": "custid_V3_juyWqcUUxz",
    "messageCode": 1281,
    "responseMessage": "CARDPROFILE ID MISTMATCH",
    "responseCode": "1309"
}
</code></pre>
{% endtab %}
{% endtabs %}

| **1058** | INVALID\_WALLETS                                     |
| -------- | ---------------------------------------------------- |
| **1247** | SOURCE\_ACC\_TYPE\_NOT\_MACHED\_WITH\_IMPL           |
| **1135** | REFUND\_AMOUNT\_GREATER\_THAN\_ORIGINAL\_TXN\_AMOUNT |
| **1246** | ORIGINAL\_TXN\_NOT\_EXIST                            |
| **1247** | SOURCE\_ACC\_TYPE\_NOT\_MACHED\_WITH\_IMPL           |
| **1045** | UNABLE\_TO\_PROCESS\_REQUEST                         |
| **1504** | SYSTEM\_CAS\_FAILURE                                 |
| **1501** | SYSTEM\_ERROR\_DB                                    |
| **1009** | CARD\_CANCELLED\_CLOSED\_EXPIRED                     |
| **1010** | CARD\_TEMPORARY\_BLOCK                               |
| **1012** | CARD\_PENDING\_CANCELLATION                          |
| **1121** | CARD\_CREDIT\_DEBIT\_BLOCK                           |
| **1045** | UNABLE\_TO\_PROCESS\_REQUEST                         |
| **1101** | UNKNOWN\_SOURCE\_ACCOUNT\_TYPE                       |
| **1013** | AML\_MIN\_LIMIT                                      |
| **1102** | UNKNOWN\_DESTINATION\_ACCOUNT\_TYPE                  |
| **1030** | INVALID\_MESSAGE                                     |
| **1128** | INVALID\_TRACE\_NUMBER                               |
