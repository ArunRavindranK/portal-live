# 3DS Server Request API - pArq

ThreeDSRequestor initiates pArq request which includes transaction details and threeDSServerTransID, which will provided from version api.

pArq needs to be posted to the URL from field "threeDSServerPaRqURL" of "version api" response.

{% hint style="danger" %}
acquirerID needs to be appended in every request.

merchant-name needs to be appended in every request
{% endhint %}

{% swagger method="post" path="" baseUrl="/3dsserverapi/v3/pArq/<merchant-name>/<acquirerID>" summary="pArq Request" %}
{% swagger-description %}

{% endswagger-description %}

{% swagger-parameter in="body" name="messageType" type="String (8)" required="true" %}
pArq
{% endswagger-parameter %}

{% swagger-parameter in="body" name="deviceChannel" type="String (2)" required="false" %}
01 = App- based (APP) 02 = Browser (BRW) 03 = 3DS Requestor Initiated (3RI)
{% endswagger-parameter %}

{% swagger-parameter in="body" name="p_messageVersion" type="String (8)" required="true" %}
2.1.0
{% endswagger-parameter %}

{% swagger-parameter in="body" name="merchantTransID" type="String (36)" required="true" %}
Unique Transaction Identifier for merchant / PG
{% endswagger-parameter %}

{% swagger-parameter in="body" name="sdkAppID" type="String (36)" required="false" %}
Universally unique ID created upon all installations and updates of the 3DS Requestor App on a Consumer Device. This will be newly generated and stored by the 3DS SDK for each installation or update.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="sdkEphemPubKey" type="JSON Data Type: Object JWK" required="false" %}
Public key component of the ephemeral key pair generated by the 3DS SDK and used to establish session keys between the 3DS SDK and ACS. In AReq, this data element is present as its own object. In ARes, this data element is contained within the ACS Signed Content JWS Object.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="sdkEph emPubKey.kty" type="String" required="false" %}
Required for an SDK App Transacti on for 2.1.0 and above
{% endswagger-parameter %}

{% swagger-parameter in="body" name="sdkEph emPubKey.crv" type="String" required="false" %}
Required for an SDK App Transaction for 2.1.0 and above
{% endswagger-parameter %}

{% swagger-parameter in="body" name="sdkEphemPubKey.x" type="String" required="false" %}
Required for an SDK App Transaction for 2.1.0 and above
{% endswagger-parameter %}

{% swagger-parameter in="body" name="sdkEphemPubKey.y" type="String" required="false" %}
Required for an SDK App Transaction for 2.1.0 and above
{% endswagger-parameter %}

{% swagger-parameter in="body" name="sdkTransID" type="String (36)" required="false" %}
Unique SDK Transaction ID
{% endswagger-parameter %}

{% swagger-parameter in="body" name="sdkReferenceNumber" type="String (32)" required="false" %}
Identifies the vendor and version for the 3DS SDK that is integrated in a 3DS Requestor App, assigned by EMVCo when the 3DS SDK is approved.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="sdkMaxTimeout" type="String" required="false" %}
Indicates maximum amount of time (in minutes) for all exchanges.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="sdkEncData" type="String" required="false" %}
Required 3DS Server to DS but will not be present DS to ACS.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="messageVersion" type="String (8)" required="true" %}
EMVCo Protocol Version Number of the specification
{% endswagger-parameter %}

{% swagger-parameter in="body" name="messageCategory" type="String (2)" required="true" %}
Merchant must pass the necessary data 01 = PA (Payment Authentication) 02=NPA (Non-Payment Authentication)
{% endswagger-parameter %}

{% swagger-parameter in="body" name="threeDSServerTransID" type="String (32)" required="true" %}
3DS Server Unique Transaction ID, required in-case 3DS Requestor has initiated Version request
{% endswagger-parameter %}

{% swagger-parameter in="body" name="threeDSRequestorID" type="String" required="false" %}
DS assigned 3DS Requestor identifier. Each DS will provide a unique ID to each 3DS Requestor on an individual basis.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="threeDSRequestorName" type="String" required="false" %}
DS assigned 3DS Requestor name. Each DS will provide a unique name to each 3DS Requestor on an individual basis.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="threeDSRequestorURL" type="String" required="true" %}
Fully qualified URL of 3DS Requestor website or customer care site. This data element provides additional information to the receiving 3-D Secure system if a problem arises and should provide contact information.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="acctNumber" type="String (19)" required="true" %}
Card Number
{% endswagger-parameter %}

{% swagger-parameter in="body" name="threeDSRequestorAuthenticationInd" type="String (2)" required="false" %}
Required for 2.1.0 and above.

• 01 = Payment transaction

• 02 = Recurring transaction

• 03 = Instalment transaction

• 04 = Add card

• 05 = Maintain card

• 06 = Cardholder verification as part of EMV token ID\&V

• 07–79 = Reserved
{% endswagger-parameter %}

{% swagger-parameter in="body" name="threeDSCompInd" type="String 1" required="false" %}
Required for 2.1.0 and above. Values accepted: • Y = Successfully complete d

• N = Did not successfully complete

• U = Unavailable—3DS Method URL was not present in the PRes message data for the card range associate d with the Cardholder Account Number. Indicates whether ThreeDS Requestor has completed the Method URL call.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="threeDSRequestorAuthenticationInfo" type="JSON Data Type: Object" required="false" %}
Information about how the 3DS Requestor authenticated the cardholder before or during the transaction
{% endswagger-parameter %}

{% swagger-parameter in="body" name="threeDSRequestorAuthenticationInfo.threeDSReqAuthMethod" type="String (2)" required="false" %}
Values accepted:

• 01 = No 3DS Requestor authentication occurred (i.e. cardholder “logged in” as guest)

• 02 = Login to the cardholder account at the 3DS Requestor system using 3DS Requestor’s own credentials

• 03 = Login to the cardholder account at the 3DS Requestor system using federated ID

• 04 = Login to the cardholder account at the 3DS Requestor system using issuer credentials

• 05 = Login to the cardholder account at the 3DS Requestor system using third- party authentication

• 06 = Login to the cardholder account at the 3DS Requestor system using FIDO Authenticator • 07 = Login to the cardholder account at the 3DS Requestor system using FIDO Authenticator (FIDO assurance data signed)

• 08 = SRC Assurance Data

• 09–79 = Reserved for EMVCo future use (values invalid until defined by EMVCo)

• 80–99 = Reserved for DS use
{% endswagger-parameter %}

{% swagger-parameter in="body" name="threeDSRequestorDecReqInd" type="String" required="false" %}
Values accepted:

• Y = Decoupled Authentication is supported and preferred if challenge is necessary

• N = Do not use Decoupled Authentication
{% endswagger-parameter %}

{% swagger-parameter in="body" name="threeDSRequestorDecMaxTime" type="String (5)" required="true" %}
Numeric values between 1 and 10080 accepted.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="threeDSRequestorAuthenticationInfo.threeDSReqAuthTimestamp" type="String (12)" required="false" %}
Date format = YYYYMMDDHHMM
{% endswagger-parameter %}

{% swagger-parameter in="body" name="threeDSRequestorAuthenticationInfo.threeDSReqAuthData" type="String" required="false" %}
Data that document s and supports a specific authentication process.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="threeDSRequestorChallengeInd" type="String (2)" required="false" %}
Values accepted:

• 01 = No preference

• 02 = No challenge requested

• 03 = Challenge requested (3DS Requestor preference)

• 04 = Challenge requested (Mandate)

• 05 = No challenge requested (transactional risk analysis is already performed)

• 06 = No challenge requested (Data share only)

• 07 = No challenge requested (strong consumer authentication is already performed)

• 08 = No challenge requested (utilize whitelist exemption if no challenge required)

• 09 = Challenge requested (whitelist prompt requested if challenge required)

• 10–79 = Reserved for EMVCo future use (values invalid until O 27 defined by EMVCo)

• 80–99 =Reserved for DS use
{% endswagger-parameter %}

{% swagger-parameter in="body" name="acctType" type="String (2)" required="false" %}
Required if 3DS Requestor is asking Cardholder which Account Type they are using before making the purchase. Required in some markets (for example, for Merchants in Brazil). Otherwise, it is optional.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="addrMatch" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="acctInfo" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="acctInfo.chAccAgeInd " type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="acctInfo.chAccDate " type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="acctInfo.chAccChangeInd" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="acctInfo.chAccPwChange" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="acctInfo.shipAddressUsageInd" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="acctInfo.shipAddressUsage" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="acctInfo.txnActivityDay" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="acctInfo.txnActivityYear" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="acctInfo.provisionAttemptsDay" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="acctInfo.nbPurchaseAccount" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="acctInfo.suspiciousAccActivity" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="acctInfo.shipNameIndicator" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="acctInfo.paymentAccInd" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="acctInfo.paymentAccAge" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="acctID" type="String" required="false" %}
Additional information about the account optionally provided by the 3DS Requestor.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="merchantRiskIndicator" type="String" required="false" %}
Merchant ’s assessment of the level of fraud risk for the specific authentication for both the cardholder and the authentication being conducted.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="merchantRiskIndicator.shipIndicator " type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="merchantRiskIndicator.deliveryTimeframe" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="merchantRiskIndicator.deliveryEmailAddress " type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="merchantRiskIndicator.reorderItemsInd " type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="merchantRiskIndicator.preOrderPurchaseInd " type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="merchantRiskIndicator.preOrderDate" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="merchantRiskIndicator.giftCardAmount" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="merchantRiskIndicator.giftCardCurr" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="merchantRiskIndicator.giftCardCount" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="billAddrPostCode" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="billAddrCountry" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="cardExpiryDate" type="String" required="true" %}
Expiry Date of the PAN or token supplied to the 3DS Requestor by the Cardholder.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="purchaseCurrency" type="String (3)" required="true" %}
ISO 4217 three-digit currency code
{% endswagger-parameter %}

{% swagger-parameter in="body" name="shipAddrCity" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="shipAddrLine1" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="mcc" type="String (4)" required="false" %}
Optional but strongly recommended to include for 02- NPA if the merchant is also the 3DS Requestor. For PA it is required field, for NPA it is optional
{% endswagger-parameter %}

{% swagger-parameter in="body" name="acquirerMerchantID" type="String(35)" required="true" %}
Acquirer-assigned Merchant identifier.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="purchaseExponent" type="String " required="false" %}
For Payment Transaction its Mandatory, For NPA, Required for 02- NPA if 3DS Requestor Authentication Indicator = 02 or 03.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="billAddrState" type="String " required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="merchantName" type="String (40)" required="true" %}
Merchant name assigned by the Acquirer or Payment System. Required for payment transaction. Optional for non-payment but strongly recommended to include for 02- NPA if the merchant is also the 3DS Requestor.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="shipAddrPostCode" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="purchasAmount" type="String" required="true" %}
Required for Payment. For non-payment, Required for 02- NPA if 3DS Requestor Authentication Indicator = 02 or 03.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="cardholderName" type="String" required="false" %}
Required unless market or regional mandate restricts sending this information.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="billAddrLine3" type="String" required="false" %}
Required unless market or regional mandate restricts sending this information.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="threeDSServerOperatorID" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="purchaseDate" type="String (14)" required="false" %}
Date and time of the purchase, expressed in UTC.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="recurringExpiry" type="String (8)" required="true" %}
Required for Installment and Recurring Transactions.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="recurringFrequency" type="String (4)" required="true" %}
Required for Installment and Recurring Transactions.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="mobilePhone" type="Json Object" required="false" %}
Required (if available) unless market or regional mandate restricts sending this information.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="mobilePhone.cc" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="billAddrCity" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="workPhone" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="workPhone.cc " type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="workPhone.subscriber" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="billAddrLine1" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="billAddrLine2" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="shipAddrCountry" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="email" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="shipAddrLine2" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="merchantCountryCode" type="String (3)" required="true" %}
Country Code of the Merchant.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="homePhone" type="Json Object" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="homePhone. cc" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="homePhone.subscriber" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="acquirerBIN" type="String (11)" required="true" %}
Acquiring institution identification code as assigned by the DS
{% endswagger-parameter %}

{% swagger-parameter in="body" name="shipAddrLine3" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="transType" type="String" required="true" %}
Identifies the type of transaction being authenticated. This field is required in some markets (e.g. for Merchants in Brazil). Otherwise,
{% endswagger-parameter %}

{% swagger-parameter in="body" name="shipAddrState" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="acquirerID" type="String (4)" required="true" %}
Acquirer Identifier assigned by 3DS Server / MPI
{% endswagger-parameter %}

{% swagger-parameter in="body" name="threeDSRequestorPriorAuthenticationInfo" type="Object" required="false" %}
3DS Requestor Prior Transaction Authentication Information.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="threeDSRequestorPriorAuthenticationInfo.threeDSReqPriorRef" type="String" required="false" %}
3DS Requestor Prior Transaction Authentication Information.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="threeDSRequestorPriorAuthenticationInfo.threeDSReqPriorRef" type="String" required="false" %}
3DS Requestor Prior Transaction Authentication Information.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="threeDSRequestorPriorAuthenticationInfo.threeDSReqPriorAuthMethod" type="String" required="false" %}
3DS Requestor Prior Transaction Authentication Information.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="threeDSRequestorPriorAuthenticationInfo.threeDSReqPriorAuthTimestamp" type="String(12)" required="false" %}
3DS Requestor Prior Transaction Authentication Timestamp
{% endswagger-parameter %}

{% swagger-parameter in="body" name="threeDSRequestorPriorAuthenticationInfo.threeDSReqPriorAuthData" type="String" required="false" %}
Data that documents and supports a specific authentication process
{% endswagger-parameter %}

{% swagger-parameter in="body" name="threeRIInd" type="String (2)" required="false" %}
Indicates the type of 3RI request
{% endswagger-parameter %}

{% swagger-parameter in="body" name="threeDSRequestorFinalAuthRespURL" type="String" required="false" %}
Required if transactionStatus="C"
{% endswagger-parameter %}

{% swagger-parameter in="body" name="strictRegionalAuthenticationRules" type="Boolean" required="false" %}
Values accepted: true or false
{% endswagger-parameter %}

{% swagger-parameter in="body" name="whiteListStatus" type="String" required="false" %}
Values accepted:

• Y = 3DS Requestor is white listed by cardholder • N = 3DS Requestor is not white listed by cardholder

• E = Not eligible as determined by O 35 issuer

• P = Pending confirmation by cardholder

• R = Cardholder rejected

• U = Whitelist status unknown, unavailable, or does not apply
{% endswagger-parameter %}

{% swagger-parameter in="body" name="merchantDSPassword" type="String" required="false" %}
Merchant 1.0 Directory Server Registered password
{% endswagger-parameter %}

{% swagger-parameter in="body" name="whiteListStatusSource" type="String" required="false" %}
Values accepted:

• 01 = 3DS Server

• 02 = DS

• 03 = ACS

• 04- 79 = Reserved for EMVCo future use (values invalid until defined by EMVCo)

• 80-99 = Reserved for DS use.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="messageExtension" type="JSON Data Type: Array" required="true" %}
Data necessary to support requirements not otherwise defined in the 3-D Secure message are carried in a Message Extension.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="browserAcceptHeader" type="String" required="false" %}
Exact content of the HTTP accept headers as sent to the 3DS Requestor from the Cardholder’s browser.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="browserIP" type="String (45)" required="false" %}
IP address of the browser as returned by the HTTP headers to the 3DS Requestor.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="browserJavaEnabled" type="JSON Data Type: Boolean" required="false" %}
Boolean that represents the ability of the cardholder browser to execute Java. Value is returned from the navigator.javaEnabled property.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="browserLanguage" type="String (8)" required="false" %}
Value representing the browser language as defined in IETF BCP47. Returned from navigator.language property.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="browserColorDepth" type="String (12)" required="false" %}
Value representing the bit depth of the color palette for displaying images, in bits per pixel. Obtained from Cardholder browser using the screen.colorDepth property.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="browserScreenHeight" type="String" required="false" %}
Total height of the Cardholder’s screen in pixels. Value is returned from the screen.height property.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="browserScreenWidth" type="String" required="false" %}
Total width of the cardholder’s screen in pixels. Value is returned from the screen.width property.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="browserTZ" type="String" required="false" %}
Time difference between UTC time and the Cardholder browser local time, in minutes.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="browserUserAgent" type="String" required="false" %}
Exact content of the HTTP user- agent header.
{% endswagger-parameter %}

{% swagger-parameter in="body" name="challengeWindowSize" type="String" required="false" %}
challengeWindowSize
{% endswagger-parameter %}

{% swagger-parameter in="body" name="additionalInfo" type="String" required="false" %}
BrowseradditionalInfo
{% endswagger-parameter %}

{% swagger-parameter in="body" name="merchantClassificationA" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="merchantClassificationB" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-parameter in="body" name="merchantClassificationC" type="String" required="false" %}

{% endswagger-parameter %}

{% swagger-response status="200: OK" description="" %}
```javascript
{
    "messageVersion": "2.1.0",
    "p_messageVersion": "2.1.0",
    "threeDSServerTransID": "df55dab7-8ca3-4d12-8836-9fd806cd8374",
    "threeDSServerRefNumber": "11",
    "acsTransID": "e1582a7f-b0ea-11ec-a354-9191e4d69c55",
    "acsReferenceNumber": "EMVACSVENDOR-3",
    "dsReferenceNumber": "123456789",
    "dsTransID": "ac78e76b-b5f8-4eab-b977-f17a4d5ae297",
    "messageType": "pArs",
    "transStatus": "C",
    "acsChallengeMandated": "Y",
    "acsChallengeReqUrl": "https://<acssandbox.com>/v1/acs/services/browser/creq/L/9111/e1582a7f-b0ea-11ec-a354-9191e4d69c55",
    "authenticationType": "02",
    "messageCategory": "01",
    "merchantTransID": "54c8fefe-e694-3569-7864-d4329ce60971",
    "cReq": "eyJ0aHJlZURTU2VydmVyVHJhbnNJRCI6ImRmNTVkYWI3LThjYTMtNGQxMi04ODM2LTlmZDgwNmNkODM3NCIsImFjc1RyYW5zSUQiOiJlMTU4MmE3Zi1iMGVhLTExZWMtYTM1NC05MTkxZTRkNjljNTUiLCJtZXNzYWdlVHlwZSI6IkNSZXEiLCJtZXNzYWdlVmVyc2lvbiI6IjIuMS4wIiwiY2hhbGxlbmdlV2luZG93U2l6ZSI6IjA0IiwicmVxVGltZSI6IjIwMjItMDMtMzEgMTI6MDU6MzkuMTg2In0",
    "authenticationUrl": "https://<sandbox.com>/3dsserverapi/v3/pRqFrq/indblr-blrrel/7000",
    "merchantCancelChallengeAuthUrl": "https://<sandbox.com>/3dsserverapi/v3/pRqCn/indblr-blrrel/7000",
    "acsURL": "https://<acssandbox.com>/v1/acs/services/browser/creq/L/9111/e1582a7f-b0ea-11ec-a354-9191e4d69c55"
}
```
{% endswagger-response %}
{% endswagger %}

#### Response Details

| Response Body                   | Data Type              | Length                             | Field Description                                                                                                                                                                                                                                                                                                                                           |
| ------------------------------- | ---------------------- | ---------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| messageType                     | String                 | Variable, 5–8 characters           | Identifies the Message Type                                                                                                                                                                                                                                                                                                                                 |
| p\_message Version              | String                 | Variable, 5–8 characters           | Message Protocol Version Number of the specification                                                                                                                                                                                                                                                                                                        |
| messageVersion                  | String                 | Variable, 5–8 characters           | EMVCo Protocol Version Number of the specification                                                                                                                                                                                                                                                                                                          |
| threeDSServerTransID            | String                 | Length: 36 characters              | 3DS Server Unique Transaction ID                                                                                                                                                                                                                                                                                                                            |
| acsTransID                      | String                 | Length: 36 characters              | ACS Server Unique Transaction ID                                                                                                                                                                                                                                                                                                                            |
| dsTransID                       | String                 | Length: 36 characters              | DS Server Unique Transaction ID                                                                                                                                                                                                                                                                                                                             |
| merchantTransID                 | String                 | Length: 36 characters              | Merchant Server Unique Transaction ID                                                                                                                                                                                                                                                                                                                       |
| error Code                      | String                 | 3 characters, numeric              | 000- Success 001-999 error codes will be sent basis the validation                                                                                                                                                                                                                                                                                          |
| error Desc                      | String                 | Variable, maximum 2048 characters  | Error Description                                                                                                                                                                                                                                                                                                                                           |
| eci                             | String                 | Length: 2 characters               | As per EMVCo / DS specs                                                                                                                                                                                                                                                                                                                                     |
| authentication Value            | String                 | Length: 28 characters              | Payment System-specific value provided as part of the ACS registration for each supported DS.                                                                                                                                                                                                                                                               |
| whiteListStatus                 | String                 | 1 character                        | Values accepted: • Y = 3DS Requestor is whitelisted by cardholder • N = 3DS Requestor is not white listed by cardholder • E = Not eligible as determined by issuer • P = Pending confirmation by cardholder • R = Cardholder rejected • U = Whitelist status unknown, unavailable, or does not apply                                                        |
| whiteListStatusSource           | String                 | 2 characters                       | <p>Values accepted:</p><p>• 01 = 3DS Server</p><p>• 02 = DS</p><p>• 03 = ACS</p><p>• 04-79 = Reserved for EMVCo future use (values invalid until defined by EMVCo)</p><p>• 80-99 = Reserved for DS use.</p>                                                                                                                                                 |
| acsDecConInd                    | String                 | 1 character                        | <p>Required if Transaction Status = D Values accepted:</p><p>• Y = Confirms Decoupled Authentication will be utilized</p><p>• N = Decoupled Authentication will not be utilized Note: if 3DS Requestor Decoupled Request Indicator = N, a value of Y cannot be returned in the ACS Decoupled Confirmation Indicator.registration for each supported DS.</p> |
| acsRenderingType                | JSON Data Type: Object |                                    |                                                                                                                                                                                                                                                                                                                                                             |
| acsRendering Type.acsInterface  | String                 | 2 characters                       | 01 = Native UI 02 = HTML UI                                                                                                                                                                                                                                                                                                                                 |
| acsRenderingType. acsUiTemplate | String                 | 2 characters                       | 01 = Text 02 = Single Select 03 = Multi Select 04 = OOB 05 = HTML Other (valid only for HTML UI)                                                                                                                                                                                                                                                            |
| acsSignedContent                | JSON Data Type: Object | Length: Variable                   | As per EMVCo specs                                                                                                                                                                                                                                                                                                                                          |
| transStatus                     | String                 | Length: 1 character                | As per EMVCo specs                                                                                                                                                                                                                                                                                                                                          |
| acsChallengeReqUrl              | String                 | Variable, maximum 2048 characters  | Fully qualified ACS URL, where in Merchant needs to post the Challenge request to ACS                                                                                                                                                                                                                                                                       |
| authenticationUrl               | String                 | Variable, maximum 2048 characters  | Fully qualified 3DS Server URL for fetching Authentication Value, eci.                                                                                                                                                                                                                                                                                      |
| merchantCanc elChallengeAuthUrl | String                 | Variable, maxi mum 2048 characters |                                                                                                                                                                                                                                                                                                                                                             |
| messageExtens ion               | JSON Data Type: Array  | Varia ble, maxi mum 8192 0 bytes   | Data necessary to support requirements not otherwise defined in the 3-D Secure message are carried in a Message Extension.                                                                                                                                                                                                                                  |
| acsChallengeR eqFormData        | JSON Object Map        |                                    | Required for Browser Ecom 1.0.2 and above ThreeDSRequestor needs to post the data as Form Post to the ACS URL obtained from acsChallengeReqUrl, form data Name and Value needs to be picked from the Json Object Map.                                                                                                                                       |

### **pArq : Request 2.0**

{% tabs %}
{% tab title="Sample Curl Request" %}
```
curl --location --request POST 'https://<sandbox.com>/3dsserverapi/v3/pArq/indblr-blrrel/7000' \
--header 'Content-Type: application/json' \
--data-raw '{
    "messageType": "pArq",
    "deviceChannel": "02",
    "p_messageVersion": "2.1.0",
    "merchantTransID": "54c8fefe-e694-3569-7864-d4329ce60971",
    "messageVersion": "2.1.0",
    "messageCategory": "01",
    "threeDSCompInd": "U",
    "sdkEncData": "eyJhbGciOiJSU0EtT0FFUC0yNTYiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0.LzxOt3GC5Z89Nm3z7ePbcW48rR_AZ7LVYZ6m",
    "threeDSServerTransID": "df55dab7-8ca3-4d12-8836-9fd806cd8374",
    "merchantUrl": "https://wibmotest.merchant-wibmo.com/ec945441-9c37-424f-a9b9-00465d61a567",
    "threeDSRequestorID": "227",
    "threeDSRequestorName": "Wibmo 3DSS  Requestor",
    "threeDSRequestorURL": "https://wibmotest.merchant-wibmo.com/ec945441-9c37-424f-a9b9-00465d61a567",
    "threeDSRequestorAuthenticationInd": "01",
    "threeDSRequestorChallengeInd": "01",
    "threeDSRequestorDecReqInd": "Y",
    "threeDSRequestorDecMaxTime": "10",
    "acctNumber": "XXXXXXXXXXXXXXXX",
    "acctType": "02",
    "addrMatch": "Y",
    "cardExpiryDate": "2212",
    "cardholderName": "Challenge One",
    "acctID": "Additional information about account",
    "mcc": "7922",
    "merchantName": "Ticket Service",
    "merchantCountryCode": "840",
    "acquirerBIN": "0000999",
    "acquirerID": "7000",
    "acquirerMerchantID": "9876543210501",
    "purchaseCurrency": "704",
    "purchaseExponent": "2",
    "purchaseAmount": "3170",
    "purchaseDate": "20180629064411",
    "recurringExpiry": "20181220",
    "recurringFrequency": "1",
    "shipAddrCity": "City Name",
    "shipAddrLine1": "Address Line 1",
    "shipAddrPostCode": "Postal Code",
    "shipAddrLine3": "Address Line 3",
    "shipAddrState": "AZ",
    "shipAddrLine2": "Address Line 2",
    "shipAddrCountry": "840",
    "billAddrPostCode": "Postal Code",
    "billAddrState": "AZ",
    "billAddrCountry": "840",
    "billAddrLine1": "Address Line 1",
    "billAddrLine2": "Address Line 2",
    "billAddrLine3": "Address Line 3",
    "billAddrCity": "City Name",
    "threeDSServerOperatorID": "threeDSServerOperator",
    "transType": "01",
    "signatureHashIdentifier": "02",
    "threeRIInd": "02",
    "threeDSRequestorFinalAuthRespURL": "https://merchantsecure.com/fetchAuthResponse",
    "browserAcceptHeader": "brw-accept-header",
    "browserIP": "192.168.1.11",
    "browserJavaEnabled": true,
    "browserJavascriptEnabled": true,
    "browserLanguage": "brw-lang",
    "browserColorDepth": "8",
    "browserScreenHeight": 1,
    "browserScreenWidth": 1,
    "browserTZ": 1,
    "browserUserAgent": "brw-user",
    "challengeWindowSize": "01",
    "additionalInfo": "Base64Encoded(BrowserCapturedData Through JavaScript)",
    "strictRegionalAuthenticationRules": false,
    "whiteListStatus": "N",
    "whiteListStatusSource": "02",
    "merchantDSPassword": "1.0 DS registered Password"
}'
```
{% endtab %}

{% tab title="Sample Response" %}
```
{
    "messageVersion": "2.1.0",
    "p_messageVersion": "2.1.0",
    "threeDSServerTransID": "df55dab7-8ca3-4d12-8836-9fd806cd8374",
    "threeDSServerRefNumber": "11",
    "acsTransID": "e1582a7f-b0ea-11ec-a354-9191e4d69c55",
    "acsReferenceNumber": "EMVACSVENDOR-3",
    "dsReferenceNumber": "123456789",
    "dsTransID": "ac78e76b-b5f8-4eab-b977-f17a4d5ae297",
    "messageType": "pArs",
    "transStatus": "C",
    "acsChallengeMandated": "Y",
    "acsChallengeReqUrl": "https://<acssandbox.com>/v1/acs/services/browser/creq/L/9111/e1582a7f-b0ea-11ec-a354-9191e4d69c55",
    "authenticationType": "02",
    "messageCategory": "01",
    "merchantTransID": "54c8fefe-e694-3569-7864-d4329ce60971",
    "cReq": "eyJ0aHJlZURTU2VydmVyVHJhbnNJRCI6ImRmNTVkYWI3LThjYTMtNGQxMi04ODM2LTlmZDgwNmNkODM3NCIsImFjc1RyYW5zSUQiOiJlMTU4MmE3Zi1iMGVhLTExZWMtYTM1NC05MTkxZTRkNjljNTUiLCJtZXNzYWdlVHlwZSI6IkNSZXEiLCJtZXNzYWdlVmVyc2lvbiI6IjIuMS4wIiwiY2hhbGxlbmdlV2luZG93U2l6ZSI6IjA0IiwicmVxVGltZSI6IjIwMjItMDMtMzEgMTI6MDU6MzkuMTg2In0",
    "authenticationUrl": "https://<sandbox.com>/3dsserverapi/v3/pRqFrq/indblr-blrrel/7000",
    "merchantCancelChallengeAuthUrl": "https://<sandbox.com>/3dsserverapi/v3/pRqCn/indblr-blrrel/7000",
    "acsURL": "https://<acssandbox.com>/v1/acs/services/browser/creq/L/9111/e1582a7f-b0ea-11ec-a354-9191e4d69c55"
}
```
{% endtab %}
{% endtabs %}
