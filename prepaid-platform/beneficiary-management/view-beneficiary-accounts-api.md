---
description: '"This API will fetch all the beneficiary details for a given Customer"'
---

# View Beneficiary Accounts API

For a customer ID, there may be multiple beneficiary A/C details. So, this API will fetch all beneficiary details of customer

{% hint style="info" %}
This module is undergoing upgrade. The new specifications will be updated shortly.
{% endhint %}

{% swagger method="post" path="" baseUrl="api/v2/beneficiary/fetch" summary="" %}
{% swagger-description %}
Request body will contain the encrypted token. Encryption will be done by the client using the client key provided by Wibmo Team. Encryption/ Decryption methodology - AES 192 CBC.

Note - Below are the request parameters in clear text that needs to be encrypted by the client. The below parameters should not be shared in clear text.
{% endswagger-description %}

{% swagger-parameter in="body" name="token" type="String" required="true" %}
Request body will contain the encrypted token. Encryption will be done by the client using the client key provided by Wibmo Team. Encryption/ Decryption methodology - AES-192-CBC

Note - Below are the request parameters in clear text that need to be encrypted by the client. The below parameters should not be shared in clear text.
{% endswagger-parameter %}

{% swagger-parameter in="header" name="x-api-key" required="true" type="String" %}
Special token that the client needs to provide when making API calls. Will be shared along with access to Prepaid Platform Sandbox environment | Ex. -ABCDEF12345
{% endswagger-parameter %}

{% swagger-parameter in="body" name="messageCode" type="Numeric(4)" required="true" %}
Code to identity the view beneficiary request type API | Ex. 2020
{% endswagger-parameter %}

{% swagger-parameter in="body" name="clientId" type="String(15)" required="true" %}
Uniquely identifies the Client. During program enrollment each Client is provided with a unique client id by Prepaid Aero. | Ex.

`FintechA`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="secureCode" type="String(50)" required="true" %}
Unique static parameter to uniquely identifies the client on payload level for performing operations. | Ex.

`ABCD12345`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="clientTxnId" type="String (100)" required="true" %}
Unique Id generated by the client for each API request. | Ex.

`20150701235959xhstiesqfds`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="requestDateTime " type="Numeric(14)" required="true" %}
Local Date and time stamp in YYYYMMDDHHMMSS with time in 24-hour format | Ex:

`20161031000000`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="bankId " type="Numeric(4)" required="true" %}
Uniquely identify the card issuer. Bank Id is provided by Prepaid Platform during program enrollment to uniquely identify the card issuer | Ex.

`1234`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="customerId " type="String(20)" required="true" %}
Customer Id, which uniquely identifies the cardholder in the client system | Ex:

`IN0000000001`
{% endswagger-parameter %}

{% swagger-response status="200: OK" description="" %}
```javascript
{
    //Response
}
```
{% endswagger-response %}
{% endswagger %}

#### Response Body

| **messageCode**         | numeric(4)                | Mandatory   | Code to Identity View Beneficiary response type                                           | Refer to the message code reference.                                                                                | 2021                      |
| ----------------------- | ------------------------- | ----------- | ----------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------- | ------------------------- |
| **clientId**            | string(15)                | Mandatory   | Uniquely identifies the client.                                                           | During program enrolment each client is provided with a unique client id by Prepaid                                 | WIBMOCLIENT               |
| **clientTxnId**         | string(100)               | Mandatory   | Unique Id generated by the client for each transaction                                    | This will be the Gateway Ref ID                                                                                     | 20150701235959xhstiesqfds |
| **bankId**              | numeric(4)                | Mandatory   | Uniquely identify the card issuer                                                         | Wibmo Prepaid will provision a pseudo bankId for the client for a close loop wallet program                         | 1234                      |
| **responseDateTime**    | numeric(14)               | Mandatory   | Local Date and time stamp when the transaction originated from the client                 | Format is YYYYMMDDHHMMSS with time in 24-hour format                                                                | 20221031214559            |
| **responseCode**        | string(4)                 | Mandatory   | Response code of the action executed.                                                     | Contains the status of the transaction. 00 indicates success.                                                       | 00                        |
| **responseMessage**     | string(100)               | Optional    | Description of the response code.                                                         | Response message based on response code will be sent                                                                | Block successful          |
| **customerId**          | string(20)                | Optional    | Customer Id, which uniquely identifies the cardholder/wallet holder in the client system. | Value copied from the request                                                                                       | 9as7129dhgaf657           |
| **Urn**                 | numeric(10)               | Mandatory   | A unique reference number for the generated wallet provided by Wibmo Prepaid.             | Value copied from the request                                                                                       | 1000058915                |
| **accosaTransactionId** | numeric(10)               | Mandatory   | Unique id for a particular transaction generated in Prepaid                               | Unique Identifier for a transaction                                                                                 | 3591893                   |
| **beneficiaryId**       | Numeric (15)              | Optional    | This Id will be generated at time of creating the beneficiary id.                         | Unique identifier to identify beneficiary in Wibmo prepaid system                                                   | 5                         |
| **beneficiaryName**     | <p>String</p><p>(100)</p> | Mandatory   | The custom name of the Beneficiary account.                                               | Name of beneficiary account to be shown                                                                             | SouravHdfcAccount         |
| **bankName**            | <p>String</p><p>(150)</p> | Mandatory   | Name of the Bank holding the Beneficiary account.                                         | Bank Name where beneficiary account exists                                                                          | HDFC Bank                 |
| **bankAccountNumber**   | <p>String</p><p>(50)</p>  | Mandatory   | Account Number in the beneficiary bank                                                    | Bank account number of the beneficiary                                                                              | 1234098753                |
| **ifscCode**            | <p>String</p><p>(50)</p>  | Mandatory   | IFSC code of the beneficiary Bank account                                                 | IFSC code of the bank branch where beneficiary account exists                                                       | HDFC00015                 |
| **walletProgram**       | String (20)               | Conditional | Name of the wallet program the client belongs to.                                         | In case of mobile number-based transfer, these details will be valid. (Only if program is managed by Wibmo prepaid) | abc\_wallet               |
| **mobile**              | String (14)               | Conditional | Mobile number related to any program                                                      | If provided, then in this case upiVpa and bank details not required.                                                | 9897123456                |
| **email**               | String (50)               | Optional    | Email id of beneficiary account                                                           | Email ID of beneficiary (if provided)                                                                               | abc@gmail.com             |
| **upiVpa**              | String (50)               | Conditional | UPI id if Beneficiary is added with UPI                                                   | Shown if provided                                                                                                   | abc@okicici               |

{% tabs %}
{% tab title="Curl" %}
```json
Sample View Beneficiary Accounts API Request
https://pp-sandbox.wibmo.com/api/v2/blockCard
Sample Request
Encrypted req->
{
"token":"Pl8F5kDZcvADIiursiAvvbHNuL9Wv5eaFdorGVFU6FKfIEnV/YskkzJlAov2ZHJWnqGNLOXfBq4SQqw8Ep4sK0gCAAkRXATCb1nSY6s=" 
}
// Sample token. Client will have to generate this token. 
Decrypted req->
{
    "messageCode": "2010",
    "clientId": "WIBMOBANK",
    "secureCode": "AfYtlO5kqdySIjXyNmGg3F",
    "clientTxnId": "207507271458370149gM90jY6",
    "requestDateTime":20161031214559,
    "bankId": "1234",
    "customerId":"918328101890",
}
```
{% endtab %}

{% tab title="Response (Success)" %}
<pre class="language-json"><code class="lang-json">Encrypted Response->
<strong>{
</strong>"token":"Pl8F5kDZcvADIiursiAvvbHNuL9Wv5eaFdorGVFU6FKfIEnV/YskkzJlAov2ZHJWnqGNLOXfBq4SQqw8Ep4sK0gCAAkRXATCb1nSY6s=" 
}
//Sample token. Client will have to decrypt the token shared in the response body
Decrypted Response->
{
    "urn": 0,
    "customerId": "9712983647",
    "responseCode": "00",
    "messageCode": 2011,
    "clientTxnId": "207507271458370149gM90jY6",
    "clientId": "WIBMOBANK",
    "responseDateTime": "20210909105732",
    "accosaTransactionId": 0,
     “responseMessage”:“SUCCESS”
    "bankId": 1234,
   “beneficiaryAccountDetails”:[
    {
    “beneficiaryId”:”4”,
   “beneficiaryName”: ”SouravHdfcAccount”,
   “bankName”: ”HDFC”,
   “bankAccountNumber”:”123421457”,
   “ifscCode”:”HDFC000025”,
    },
    {
    “beneficiaryId”:”5”,
   “beneficiaryName”: ”KalayanAxisAccount”,
   “bankName”: ”AXIS”,
   “bankAccountNumber”:”823521457”,
   “ifscCode”:”AXIS000025”,
    },
      {
    “beneficiaryId”:”5”,
    “mobileNumber”:”8328101896”,
    “email”:techviman@gmail.com,
    “walletProgram”: ”citrus_wallet”,
    },
      {
    “beneficiaryId”:”6”,
    “upiVpaId”:”8328101896”,
    “emailId”:” techviman@gmail.com”
    },
  ]
}
</code></pre>
{% endtab %}
{% endtabs %}
