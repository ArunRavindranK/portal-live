---
description: This API is used to allow the client/customer to set/reset PIN
---

# Reset PIN API

This API is used to set or reset the 4-digit PIN for the customer. This 4-digit PIN is the for the Card/Wallet.

Customer's profile details need to be authenticated (2FA) prior to allowing the customer to set or Reset PIN. This PIN can also be utilized on consumer portal or third-party portals to authenticate cardholder as 2nd Factor authentication beyond a certain transaction amount.

{% swagger method="post" path="" baseUrl="api/v1/resetPIN" summary="" %}
{% swagger-description %}
Request body will contain the encrypted token. Encryption will be done by the client using the client key provided by Wibmo Team. Encryption/ Decryption methodology - AES 192 CBC.

Note - Below are the request parameters in clear text that needs to be encrypted by the client. The below parameters should not be shared in clear text.
{% endswagger-description %}

{% swagger-parameter in="body" name="token" type="String" required="true" %}
Request body will contain the encrypted token. Encryption will be done by the client using the client key provided by Wibmo Team. Encryption/ Decryption methodology - AES-192-CBC

Note - Below are the request parameters in clear text that need to be encrypted by the client. The below parameters should not be shared in clear text.
{% endswagger-parameter %}

{% swagger-parameter in="header" name="x-api-key" required="true" type="String" %}
Special token that the client needs to provide when making API calls. Will be shared along with access to Prepaid Platform Sandbox environment | Ex. -ABCDEF12345
{% endswagger-parameter %}

{% swagger-parameter in="body" name="messageCode" type="Numeric(4)" required="true" %}
API Code to uniquely identity ‘Change Card Status’ API | Ex.

`1120`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="clientId" type="String(15)" required="true" %}
Uniquely identifies the Client. During program enrollment each Client is provided with a unique client id by Prepaid Aero. | Ex.

`FintechA`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="secureCode" type="String(25)" required="true" %}
Unique static parameter to uniquely identifies the client on payload level for performing operations. | Ex.

`ABCD12345`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="clientTxnId" type="String (100)" required="true" %}
Unique Id generated by the client for each API request. | Ex.

`20150701235959xhstiesqfds`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="requestDateTime " type="Numeric(14)" required="true" %}
Local Date and time stamp in YYYYMMDDHHMMSS with time in 24-hour format | Ex:

`20161031000000`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="bankId " type="Numeric(4)" required="true" %}
Uniquely identify the card issuer. Bank Id is provided by Prepaid Platform during program enrollment to uniquely identify the card issuer | Ex.

`1234`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="entityId " type="Numeric(4)" required="false" %}
Defaults to parent branch of the client i.e., 100 if not provided. This option is useful if cards need to be created and activated under a specific entity/outlet |

`100`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="customerId" type="string(20)" required="true" %}
Uniquely identifies the cardholder in the client system | Ex:

`IN2016201611`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="last4Digits" type="string(4)" required="true" %}
Last 4 digits of the card number | Ex:

`7810`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="urn" type="numeric(10)" required="true" %}
A unique reference number for the generated wallet | Ex:

`1000058915`
{% endswagger-parameter %}

{% swagger-parameter in="body" name="newPIN" type="numeric(4)" required="true" %}
Newly generated PIN | Ex:

`1234`
{% endswagger-parameter %}

{% swagger-response status="200: OK" description="" %}
```javascript
{
    //Response
}
```
{% endswagger-response %}
{% endswagger %}

#### Response Body

| **messageCode**         | numeric(4)  | Y | API Code to uniquely identity ‘Change Card Status’ API response type                                                                                                                                             | 1121                            |
| ----------------------- | ----------- | - | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------- |
| **clientId**            | string(15)  | Y | Uniquely identifies the client.                                                                                                                                                                                  | WIBMOCLIENT                     |
| **clientTxnId**         | string(100) | Y | Value copied from the request                                                                                                                                                                                    | 20150701235959xhstiesqfds       |
| **responseDateTime**    | numeric(14) | Y | Response date time in the format YYYYMMDDHHMMSS with time in 24 hr format                                                                                                                                        | 20161031214559                  |
| **urn**                 | numeric(10) | Y | The unique reference number for the generated card/wallet by Prepaid system                                                                                                                                      | 1000058915                      |
| **customerId**          | string(20)  | Y | This is the unique identifier generated by the client at their end. Incase client doesn’t provide a customer ID during the time of card/wallet creation, then Wibmo Prepaid can generate the same for the client | 9712938648                      |
| **accosaTransactionId** | numeric(10) | Y | Unique identifier of a transaction generated in Prepaid system                                                                                                                                                   | 3591893                         |
| **responseCode**        | string(4)   | Y | Contains the status of the transaction. 00 indicates success. Please refer Appendix for other response codes                                                                                                     | 00                              |
| **responseMessage**     | string(100) | N | Response message based on response code will be sent                                                                                                                                                             | ‘Successful Card Status Change’ |
| **description**         | string(100) | N | Reserved field to send information to client                                                                                                                                                                     | 'PIN Reset'                     |
| **accosaRefNo**         | numeric(20) | Y | Auto generated sequence number in Prepaid cms events                                                                                                                                                             | 4565166                         |

{% tabs %}
{% tab title="Curl" %}
```json
Sample Reset PIN API Request
https://pp-sandbox.wibmo.com/api/v1/resetPIN
Sample Request
Encrypted req->
{
"token":"Pl8F5kDZcvADIiursiAvvbHNuL9Wv5eaFdorGVFU6FKfIEnV/YskkzJlAov2ZHJWnqGNLOXfBq4SQqw8Ep4sK0gCAAkRXATCb1nSY6s=" 
}
// Sample token. Client will have to generate this token. 
Decrypted req->
{
    "messageCode": "1120",
    "clientId": "WibmoClient",
    "bankId": 2010,
    "entityId": 100,
    "requestDateTime": "20221116122653",
    "clientTxnId": "INq_JM2FOW=SIevkR8tgL",
    "secureCode": "AfZtpO5krtySIhXyNmGg1G",
    "newPIN": "1212",
    "last4Digits": "8172",
    "urn": "402",
    "customerId": "QVdzHtZsuG"
}
```
{% endtab %}

{% tab title="Response (Success)" %}
```json
Encrypted Response->
{
"token":"Pl8F5kDZcvADIiursiAvvbHNuL9Wv5eaFdorGVFU6FKfIEnV/YskkzJlAov2ZHJWnqGNLOXfBq4SQqw8Ep4sK0gCAAkRXATCb1nSY6s=" 
}
//Sample token. Client will have to decrypt the token shared in the response body
Decrypted Response->
{
    "clientId": "WibmoClient",
    "responseDateTime": "20221116122728",
    "accosaTransactionId": 7471,
    "description": "Reset Pin",
    "entityId": 100,
    "responseCode": "00",
    "urn": 402,
    "bankId": 2010,
    "accosaRefNo": "777",
    "clientTxnId": "INq_JM2FOW=SIevkR8tgL",
    "customerId": "QVdzHtZsuG",
    "messageCode": 1121,
    "responseMessage": "Success"
}
```
{% endtab %}

{% tab title="Response (Failure)" %}
<pre class="language-json"><code class="lang-json">Encrypted Response->
<strong>{
</strong>"token":"Pl8F5kDZcvADIiursiAvvbHNuL9Wv5eaFdorGVFU6FKfIEnV/YskkzJlAov2ZHJWnqGNLOXfBq4SQqw8Ep4sK0gCAAkRXATCb1nSY6s=" 
}
//Sample token. Client will have to decrypt the token shared in the response body
Decrypted Response->
{
    "urn": 405,
    "bankId": 2010,
    "clientId": "WibmoClient",
    "responseDateTime": "20221116123203",
    "clientTxnId": "INq_JMDSF5AIZ1d5GN5tq",
    "accosaTransactionId": 7477,
    "customerId": "9pGslM9FCT",
    "messageCode": 1121,
    "responseMessage": "INVALID PIN",
    "responseCode": "1099"
}
</code></pre>
{% endtab %}
{% endtabs %}
